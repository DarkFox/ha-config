type: vertical-stack
cards:
  - type: horizontal-stack
    cards:
      - type: "custom:button-card"
        show_state: true
        show_name: false
        entity: sensor.playlist_player
        tap_action:
          action: call-service
          service: browser_mod.command
          service_data:
            command: popup
            deviceID:
              - this
            title: Afspiller
            large: true
            card: !include playlist_player.yaml
      
      - type: "custom:button-card"
        icon: mdi:music
        entity: binary_sensor.playlist_playing
        show_label: true
        show_name: false
        label: "[[[return states['input_select.playlist'].state || 'Playliste']]]"
        tap_action:
          action: call-service
          service: browser_mod.command
          service_data:
            command: popup
            deviceID:
              - this
            title: Playlister
            card: !include playlists.yaml

  - type: conditional
    conditions:
      - entity: binary_sensor.playlist_playing
        state: 'on'
    card:
      type: vertical-stack
      cards:
        - type: glance
          columns: 3
          show_name: false
          show_state: false
          entities:
            - entity: script.playlist_previous
              icon: mdi:skip-previous-circle
              tap_action:
                action: toggle
            - entity: script.playlist_end
              icon: mdi:stop-circle
              tap_action:
                action: toggle
            - entity: script.playlist_next
              icon: mdi:skip-next-circle
              tap_action:
                action: toggle
