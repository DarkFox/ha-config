title: Kontor
path: office
icon: "mdi:desktop-tower-monitor"
type: custom:vertical-layout
layout:
  max_cols: 3
cards:
  - type: custom:decluttering-card
    template: room_state_and_light_profile
    variables:
      - room: office

  - type: custom:decluttering-card
    template: speaker_control_active_or_room
    variables:
      - room: kontor

  - type: custom:decluttering-card
    template: room_climate_with_thermostat
    variables:
      - rum: kontor
      - icon: mdi:desktop-tower-monitor

  - type: custom:decluttering-card
    template: light_groups
    variables:
      - rum: kontor

  - type: custom:layout-break

  - type: entities
    title: PC
    show_header_toggle: false
    entities:
      - switch.martin_pc
      - binary_sensor.martin_pc_activity
      - entity: switch.pc_afbryder
        name: PC
      - entity: switch.pc_tilbehor_afbryder
        name: PC Tilbehør
      - switch.printer_afbryder
      - sensor.steam_76561197970641649
      - sensor.steam_game

  - type: vertical-stack
    cards:
      - type: horizontal-stack
        cards:
          - type: custom:mini-graph-card
            name: CPU
            entities:
              - entity: sensor.martin_pc_cpuload
                color: "#FF6347"
            hours_to_show: 0.5
            points_per_hour: 240
          - type: custom:mini-graph-card
            name: GPU
            icon: mdi:chart-areaspline
            entities:
              - entity: sensor.martin_pc_gpuload
                color: "#4682B4"
            hours_to_show: 0.5
            points_per_hour: 240
      - type: horizontal-stack
        cards:
          - type: custom:mini-graph-card
            name: CPU Frequency
            entities:
              - entity: sensor.martin_pc_martin_pc_currentclockspeed
                color: "#32CD32"
            hours_to_show: 0.5
            points_per_hour: 240
          - type: custom:mini-graph-card
            name: RAM
            entities:
              - entity: sensor.martin_pc_memoryusage
                color: "#9932CC"
            hours_to_show: 0.5
            points_per_hour: 240

  - !include ../cards/printer.yaml

  - type: custom:mushroom-cover-card
    entity: cover.kontor_rullegardin
    show_position_control: false
    name: Vindue
    show_buttons_control: true
    layout: horizontal

  - type: custom:mushroom-cover-card
    entity: cover.kontor_altandor_gardin
    show_position_control: false
    name: Dør
    show_buttons_control: true
    layout: horizontal

  - type: custom:layout-break

  - type: custom:mini-media-player
    artwork: cover
    entity: media_player.kontor

  - type: custom:mini-media-player
    artwork: cover
    entity: media_player.kontor_tv

  - type: custom:mini-media-player
    artwork: cover
    entity: media_player.kontor_shield

  - type: custom:mini-media-player
    artwork: cover
    entity: media_player.kontor_shield_adb

  - type: custom:android-tv-card
    remote_id: remote.kontor_shield
    keyboard_id: media_player.kontor_shield_adb
    custom_keys:
      smarttube:
        icon: mdi:youtube
        source: https://www.youtube.com
    rows:
      - - power
        - info
        - plex
        - smarttube
      - - back
        - home
        - keyboard
      - - dpad
      - - rewind
        - previous
        - play_pause
        - next
        - fast_forward

  - type: custom:plex-meets-homeassistant
    title: Watch Next
    token: !secret plex_token
    ip: !secret plex_addr
    protocol: https
    port: 32400
    libraryName: Watch Next
    entity:
      - androidtv | media_player.kontor_shield_adb
      - cast | media_player.kontor_shield
    sort: lastViewedAt:desc
    playTrailer: false
    showExtras: false
    showSearch: false
    maxRows: 1
    useHorizontalScroll: "Yes"
    useShuffle: "No"
    displayTitleMain: "Yes"
    displaySubtitleMain: "Yes"

  - type: custom:plex-meets-homeassistant
    title: Movies
    token: !secret plex_token
    ip: !secret plex_addr
    protocol: https
    port: 32400
    libraryName: Movies
    entity:
      - androidtv | media_player.kontor_shield_adb
      - cast | media_player.kontor_shield
    sort: addedAt:desc
    playTrailer: false
    showExtras: false
    showSearch: false
    maxRows: 1
    useHorizontalScroll: "Yes"
    useShuffle: "No"
    displayTitleMain: "Yes"
    displaySubtitleMain: "Yes"

  - type: custom:plex-meets-homeassistant
    title: TV Shows
    token: !secret plex_token
    ip: !secret plex_addr
    protocol: https
    port: 32400
    libraryName: TV Shows
    entity:
      - androidtv | media_player.kontor_shield_adb
      - cast | media_player.kontor_shield
    sort: addedAt:desc
    playTrailer: false
    showExtras: false
    showSearch: false
    maxRows: 1
    useHorizontalScroll: "Yes"
    useShuffle: "No"
    displayTitleMain: "Yes"
    displaySubtitleMain: "Yes"
