card:
  type: vertical-stack
  cards:
    - type: horizontal-stack
      cards:
        - type: "custom:button-card"
          size: 50px
          name: Lyst
          color: var(--state-active-color)
          entity: light.[[room]]_light_profile_bright
          styles:
            icon:
              - border-radius: 15px
              - background-color: >
                  [[[
                    if (states['sensor.[[room]]_active_light_profile'].state == 'Bright')
                      return "#ff8c0066";
                    return "inherit";
                  ]]]
        - type: "custom:button-card"
          size: 50px
          name: Normal
          color: var(--state-active-color)
          entity: light.[[room]]_light_profile_default
          styles:
            icon:
              - border-radius: 15px
              - background-color: >
                  [[[
                    if (states['sensor.[[room]]_active_light_profile'].state == 'Default')
                      return "#ff8c0066";
                    return "inherit";
                  ]]]
        - type: "custom:button-card"
          size: 50px
          name: DÃ¦mpet
          color: var(--state-active-color)
          entity: light.[[room]]_light_profile_dimmed
          styles:
            icon:
              - border-radius: 15px
              - background-color: >
                  [[[
                    if (states['sensor.[[room]]_active_light_profile'].state == 'Dimmed')
                      return "#ff8c0066";
                    return "inherit";
                  ]]]
    - type: horizontal-stack
      cards:
        - type: "custom:button-card"
          size: 50px
          name: Baggrund
          color: var(--state-active-color)
          entity: light.[[room]]_light_profile_ambient
          styles:
            icon:
              - border-radius: 15px
              - background-color: >
                  [[[
                    if (states['sensor.[[room]]_active_light_profile'].state == 'Ambient')
                      return "#ff8c0066";
                    return "inherit";
                  ]]]
        - type: "custom:button-card"
          size: 50px
          name: Nat
          color: var(--state-active-color)
          entity: light.[[room]]_light_profile_night
          styles:
            icon:
              - border-radius: 15px
              - background-color: >
                  [[[
                    if (states['sensor.[[room]]_active_light_profile'].state == 'Night')
                      return "#ff8c0066";
                    return "inherit";
                  ]]]
        - type: "custom:button-card"
          size: 50px
          name: Slukket
          color: var(--state-active-color)
          entity: light.[[room]]_light_profile_off
          styles:
            icon:
              - border-radius: 15px
              - background-color: >
                  [[[
                    if (states['sensor.[[room]]_active_light_profile'].state == 'Off')
                      return "#ff8c0066";
                    return "inherit";
                  ]]]
    - type: horizontal-stack
      cards:
        - type: "custom:button-card"
          size: 50px
          name: Aktivitet
          entity: sensor.[[room]]_activity_state
          icon: mdi:circle
          tap_action:
            action: more-info
            entity: group.[[room]]_activity_entities
          hold_action:
            action: more-info
          state:
            - value: "on"
              icon: mdi:circle
              color: var(--state-active-color)
            - value: "predicted"
              icon: mdi:circle-half
              color: var(--state-active-color)
            - value: "off"
              icon: mdi:circle-outline
              color: var(--state-inactive-color)
        - type: "custom:button-card"
          size: 50px
          name: Overstyring
          entity: light.[[room]]_activity_override
          color: var(--state-active-color)
          tap_action:
            action: none
          hold_action:
            action: toggle
        - type: "custom:button-card"
          size: 50px
          name: Separat
          entity: light.[[room]]_separate_light_profile
          color: var(--state-active-color)
          tap_action:
            action: none
          hold_action:
            action: toggle
    - type: conditional
      conditions:
        - entity: input_boolean.[[room]]_activity_override
          state: "on"
      card:
        type: entities
        show_title: false
        show_header_toggle: false
        entities:
          - entity: input_select.[[room]]_room_state
