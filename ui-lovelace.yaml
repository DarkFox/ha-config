resources:
  # Libs
  - url: /local/custom-lovelace/libraries/moment-with-locales.min.js
    type: js
  - url: /local/custom-lovelace/card-tools/card-tools.js?v=0.4.0
    type: js
  # Mods
  - url: /local/custom-lovelace/card-modder/card-modder.js?v=0.0.3
    type: js
  - url: /local/custom-lovelace/compact-custom-header/compact-custom-header.js?v=0.2.9
    type: js
  - url: /local/custom-lovelace/layout-card/layout-card.js?v=0.0.3
    type: js
  # Cards
  # - url: /local/custom-lovelace/auto-entities/auto-entities.js?v=0.0.1
  #   type: js
  # - url: /local/custom-lovelace/fold-entity-row/fold-entity-row.js?v=0.0.1
  #   type: js
  - url: /local/custom-lovelace/list-card/list-card.js?v=0.0.1
    type: js
  - url: /local/custom-lovelace/flex-table-card/flex-table-card.js?v=0.0.2
    type: js
  - url: /local/custom-lovelace/vertical-stack-in-card/vertical-stack-in-card.js?v=0.0.10
    type: js
  - url: /local/custom-lovelace/bramkragten/swipe-card/swipe-card.js
    type: module
  - url: /local/custom-lovelace/useful-markdown-card/useful-markdown-card.js?v=0.0.1
    type: js
  - url: /local/custom-lovelace/ciotlosm/bignumber-card/bignumber-card.js?=v0.0.1
    type: js
  - url: /local/custom-lovelace/calendar-card/calendar-card.js?v=2.0.1
    type: js
  - url: /local/custom-lovelace/bramkragten/weather-card/weather-card.js?v=0.0.7
    type: module

node_anchors:
  compact-custom-header: &compact-custom-header
    type: 'custom:compact-custom-header'
    clock: options
    clock_format: 24
    notification: true, false
    voice: true, false
    user_agent: Android, Nexus, KFFOWI, iPad, Lenovo
    user_agent_views:
      - 1,2,3,4,5,6,7,8,9   # Default view.
      - 1,2,3,4,5,6,7,8,9,12 # Phone view
      - '10' # Hallway tablet view
      - '11' # Bathroom tablet view
      - '13' # Office tablet view
      - '11' # Bathroom tablet view

  s_train_status: &s_train_status
    type: custom:card-modder
    style:
      --paper-card-background-color: '#7DB362'
      --paper-item-icon-color: white
      color: white
      font-size: 44pt
      line-height: 13px
      padding: 20px 0px 0px 0px
      min-height: 105px
    card:
      type: 'custom:useful-markdown-card'
      content: >-
        <center>
          [[sensor.s_train_b_next.state]]
          <font size=4>min</font>
        </center>

        <center>
          <font size=4>
            [[sensor.s_train_b_status.state]]
          </font>
        </center>

  dmi_weather: &dmi-weather
    type: sensor
    entity: sensor.dmi_vejr
    name: Vejrudsigt
    icon: mdi:cloud
    # type: 'custom:useful-markdown-card'
    # content: >-
    #   <font size=4>
    #     [[sensor.dmi_vejr.state]]
    #   </font><br>
    #   <font size=1>
    #     [[sensor.dmi_vejr.attributes.validity]]
    #   </font>
    #   <br> [[sensor.dmi_vejr.attributes.content]]

  animated_weather: &animated-weather
    type: custom:weather-card
    entity: weather.dark_sky
    icons: "/local/custom-lovelace/bramkragten/weather-card/icons/animated/"

  aftership: &aftership
    type: custom:list-card
    entity: sensor.aftership
    columns:
      - title: Title
        field: title
        add_link: link
      - title: Status
        field: status
      - title: Location
        field: location

  playlist_controls: &playlist-controls
    type: conditional
    conditions:
      - entity: binary_sensor.playlist_playing
        state: 'on'
    card:
      type: glance
      columns: 3
      show_name: false
      show_state: false
      entities:
        - entity: script.playlist_previous
          icon: mdi:skip-previous-circle
          tap_action:
            action: toggle
        - entity: script.playlist_end
          icon: mdi:stop-circle
          tap_action:
            action: toggle
        - entity: script.playlist_next
          icon: mdi:skip-next-circle
          tap_action:
            action: toggle

  air_states: &air-states
    type: custom:swipe-card
    cards:
      - type: custom:vertical-stack-in-card
        cards:
          - type: horizontal-stack
            cards:
              - type: vertical-stack
                cards:
                  - type: custom:card-modder
                    style:
                      padding: 0px 0px 0px 0px
                    card:
                      type: sensor
                      name: Badeværelse
                      entity: sensor.toilet_temperature

                  - type: custom:card-modder
                    style:
                      padding: 0px 0px 0px 0px
                    card:
                      type: sensor
                      name: " "
                      entity: sensor.toilet_relative_humidity

              - type: vertical-stack
                cards:
                  - type: custom:card-modder
                    style:
                      padding: 0px 0px 0px 0px
                    card:
                      type: sensor
                      name: Stue
                      entity: sensor.livingroom_temperature

                  - type: custom:card-modder
                    style:
                      padding: 0px 0px 0px 0px
                    card:
                      type: sensor
                      name: " "
                      entity: sensor.livingroom_relative_humidity

              - type: vertical-stack
                cards:
                  - type: custom:card-modder
                    style:
                      padding: 0px 0px 0px 0px
                    card:
                      type: sensor
                      name: Kontor
                      entity: sensor.office_temperature

                  - type: custom:card-modder
                    style:
                      padding: 0px 0px 0px 0px
                    card:
                      type: sensor
                      name: " "
                      entity: sensor.office_relative_humidity

      - type: custom:vertical-stack-in-card
        cards:
          - type: horizontal-stack
            cards:
              - type: vertical-stack
                cards:
                  - type: custom:card-modder
                    style:
                      padding: 0px 0px 0px 0px
                    card:
                      type: sensor
                      name: Soveværelse
                      entity: sensor.bedroom_temperature

                  - type: custom:card-modder
                    style:
                      padding: 0px 0px 0px 0px
                    card:
                      type: sensor
                      name: " "
                      entity: sensor.bedroom_relative_humidity

              - type: vertical-stack
                cards:
                  - type: custom:card-modder
                    style:
                      padding: 0px 0px 0px 0px
                    card:
                      type: sensor
                      name: Gang
                      entity: sensor.hallway_temperature

                  - type: custom:card-modder
                    style:
                      padding: 0px 0px 0px 0px
                    card:
                      type: sensor
                      name: " "
                      entity: sensor.hallway_relative_humidity

title: Home
views:
  - title: loading
    path: loading
    icon: 'mdi:refresh'
    panel: true
    cards:
      - type: vertical-stack
        cards:
          - <<: *compact-custom-header

          - type: markdown
            content: "Loading..."

  - title: Hjem
    path: home
    icon: 'mdi:home'
    panel: true
    cards:
      - type: custom:layout-card
        cards:
          - <<: *compact-custom-header

          - type: vertical-stack
            cards:
              - type: glance
                columns: 3
                show_state: false
                entities:
                  - entity: light.light_profile_bright
                    tap_action:
                      action: toggle
                  - entity: light.light_profile_default
                    tap_action:
                      action: toggle
                  - entity: light.light_profile_dimmed
                    tap_action:
                      action: toggle
                  - entity: light.light_profile_ambient
                    tap_action:
                      action: toggle
                  - entity: light.light_profile_night
                    tap_action:
                      action: toggle
                  - entity: light.light_profile_off
                    tap_action:
                      action: toggle

              - type: entities
                title: ''
                show_header_toggle: false
                entities:
                  - entity: input_select.theme
                  - entity: input_number.scene_transition_time

              - type: entities
                title: Presence
                show_header_toggle: false
                entities:
                  - device_tracker.google_maps_102040676821115196041
                  - binary_sensor.martin_presence
                  - binary_sensor.martin_presence_delayed
                  - binary_sensor.martin_presence_extended
                  - binary_sensor.activity_last10
                  - binary_sensor.activity_last30

              - type: entities
                title: Activity Tracker
                show_header_toggle: false
                entities:
                  - input_select.martin_activity
                  - input_select.latest_motion
                  - input_boolean.guests

          - break

          - type: vertical-stack
            cards:
              - type: sensor
                entity: sensor.energy_meter_watt
                name: Strømforbrug
                graph: line

              - type: history-graph
                title: Temperatures
                entities:
                  - entity: sensor.livingroom_temperature
                    name: Stue
                  - entity: sensor.bedroom_temperature
                    name: Soveværelse
                  - entity: sensor.toilet_temperature
                    name: Toilet
                  - entity: sensor.kitchen_temperature
                    name: Køkken
                  - entity: sensor.office_temperature
                    name: Kontor
                  - entity: sensor.hallway_temperature
                    name: Gang

              - type: entities
                title: Travel Time
                show_header_toggle: false
                entities:
                  - proximity.home
                  - sensor.home_dir_of_travel
                  - sensor.travel_time_to_work_driving
                  - sensor.travel_time_to_work_public_transit
                  - sensor.s_train_b_status
                  - sensor.s_train_message
                  - sensor.s_train_b_next

              - <<: *aftership

          - break

          - type: vertical-stack
            cards:
              - <<: *animated-weather
              - <<: *dmi-weather

              - type: custom:calendar-card
                title: ""
                numberOfDays: 8
                entities:
                  - calendar.holidays_in_denmark
                  - calendar.martin_darkfoxdk_eberhardt_tripit
                  - calendar.martin_eberhardt
                  - calendar.todoist

              - type: entities
                title: Playlist
                show_header_toggle: false
                entities:
                  - input_select.playlist
                  - input_select.playlist_player

              - type: media-control
                entity: media_player.all_speakers

              - type: media-control
                entity: media_player.east_side_speakers

              - type: media-control
                entity: media_player.west_side_speakers

              - type: media-control
                entity: media_player.minis

              - type: entities
                title: Party Mode
                show_header_toggle: false
                entities:
                  - input_boolean.party_mode
                  - switch.party_button
                  - sensor.party_button_battery
  # /Home

  - path: living-room
    title: Living Room
    icon: 'mdi:sofa'
    panel: true
    cards:
      - type: custom:layout-card
        cards:
          - <<: *compact-custom-header

          - type: vertical-stack
            cards:
              - type: glance
                columns: 3
                show_state: false
                entities:
                  - entity: light.living_room_light_profile_bright
                    tap_action:
                      action: toggle
                  - entity: light.living_room_light_profile_default
                    tap_action:
                      action: toggle
                  - entity: light.living_room_light_profile_dimmed
                    tap_action:
                      action: toggle
                  - entity: light.living_room_light_profile_ambient
                    tap_action:
                      action: toggle
                  - entity: light.living_room_light_profile_night
                    tap_action:
                      action: toggle
                  - entity: light.living_room_light_profile_off
                    tap_action:
                      action: toggle
                  - entity: binary_sensor.living_room_activity
                    name: Activity
                  - entity: light.living_room_activity_override
                    name: Activity Override
                    tap_action:
                      action: toggle
                  - entity: light.living_room_separate_light_profile
                    name: Separate
                    tap_action:
                      action: toggle

              - type: conditional
                conditions:
                  - entity: input_boolean.living_room_activity_override
                    state: 'on'
                card:
                  type: entities
                  show_title: false
                  show_header_toggle: false
                  entities:
                    - entity: input_select.living_room_room_state

              - type: glance
                entities:
                  - entity: light.sofa_table
                    name: Under Sofabord
                    tap_action:
                      action: toggle
                  - entity: light.sofa_lamp
                    name: Sofabord
                    tap_action:
                      action: toggle
                  - entity: light.dining_table
                    name: Spisebord
                    tap_action:
                      action: toggle
                  - entity: light.tv_shelf
                    name: TV Hylde
                    tap_action:
                      action: toggle
                  - entity: light.tv_backlight
                    name: TV Bagbelysning
                    tap_action:
                      action: toggle
                  - entity: light.windowsill
                    name: Vindueskarm
                    tap_action:
                      action: toggle
                  - entity: light.sofa_corner
                    name: Sofahjørne
                    tap_action:
                      action: toggle
                  - entity: light.bar
                    name: Bar
                    tap_action:
                      action: toggle
                  - entity: light.cabinet_shelves
                    name: Reol
                    tap_action:
                      action: toggle
                  - entity: light.cabinet_spots
                    name: Reol Spots
                    tap_action:
                      action: toggle
                  - entity: light.display_cabinet_front
                    name: Vitrineskab Front
                    tap_action:
                      action: toggle
                  - entity: light.display_cabinet_top
                    name: Vitrineskab Top
                    tap_action:
                      action: toggle
                  - entity: light.display_cabinet_bottom
                    name: Vitrineskab Bund
                    tap_action:
                      action: toggle
                  - entity: light.globe
                    name: Globe
                    tap_action:
                      action: toggle
                  - entity: light.candles
                    name: Lysestager
                    tap_action:
                      action: toggle
                  - entity: light.livingroom_spots
                    name: Spots
                    tap_action:
                      action: toggle
                title: Livingroom Lights
                columns: 4
                show_state: false

          - break

          - type: vertical-stack
            cards:
              - type: glance
                title: Stue Afbrydere
                entities:
                  - entity: switch.living_room_tv_power
                    name: TV
                    tap_action:
                      action: toggle

              - type: media-control
                entity: media_player.living_room_mini

              - type: media-control
                entity: media_player.living_room_chromecast

              - type: media-control
                entity: media_player.living_room_soundbar

              - type: media-control
                entity: media_player.tv_soundbar_songpal

          - break

          - type: vertical-stack
            cards:
              - type: entities
                title: Livingroom Sensors
                show_header_toggle: false
                entities:
                  - binary_sensor.livingroom_sensor
                  - sensor.livingroom_luminance
                  - sensor.livingroom_relative_humidity
                  - sensor.livingroom_temperature

  # /Livingroom

  - title: Soveværelse
    path: bedroom
    icon: 'mdi:hotel'
    panel: true
    cards:
      - type: custom:layout-card
        cards:
          - <<: *compact-custom-header

          - type: vertical-stack
            cards:
              - type: glance
                columns: 3
                show_state: false
                entities:
                  - entity: light.bedroom_light_profile_bright
                    tap_action:
                      action: toggle
                  - entity: light.bedroom_light_profile_default
                    tap_action:
                      action: toggle
                  - entity: light.bedroom_light_profile_dimmed
                    tap_action:
                      action: toggle
                  - entity: light.bedroom_light_profile_ambient
                    tap_action:
                      action: toggle
                  - entity: light.bedroom_light_profile_night
                    tap_action:
                      action: toggle
                  - entity: light.bedroom_light_profile_off
                    tap_action:
                      action: toggle
                  - entity: binary_sensor.bedroom_activity
                    name: Activity
                  - entity: light.bedroom_activity_override
                    name: Activity Override
                    tap_action:
                      action: toggle
                  - entity: light.bedroom_separate_light_profile
                    name: Separate
                    tap_action:
                      action: toggle

              - type: conditional
                conditions:
                  - entity: input_boolean.bedroom_activity_override
                    state: 'on'
                card:
                  type: entities
                  show_title: false
                  show_header_toggle: false
                  entities:
                    - entity: input_select.bedroom_room_state

              - type: glance
                entities:
                  - entity: light.bedroom_shelf_strip
                    name: Hylde Lampe
                    tap_action:
                      action: toggle
                  - entity: light.bedside
                    name: Sengelampe
                    tap_action:
                      action: toggle
                  - entity: light.bedroom_shelf_spots
                    name: Hylde Spots
                    tap_action:
                      action: toggle
                  - entity: light.bedroom_floor
                    name: Reol
                    tap_action:
                      action: toggle
                  - entity: light.bed_table
                    name: Sidebord
                    tap_action:
                      action: toggle
                  - entity: light.bedroom_ps
                    name: Projektør
                    tap_action:
                      action: toggle
                  - entity: light.cloud
                    name: Sky
                    tap_action:
                      action: toggle
                title: Bedroom Lights
                columns: 4
                show_state: false

          - break

          - type: vertical-stack
            cards:
              - type: entities
                title: Bedroom Media
                show_header_toggle: true
                entities:
                  - switch.bedroom_speaker_switch

              - type: media-control
                entity: media_player.bedroom_mini

              - type: media-control
                entity: media_player.bedroom_tv

              - type: media-control
                entity: media_player.bedroom_chromecast

              - type: media-control
                entity: media_player.bedroom_speaker

          - break

          - type: vertical-stack
            cards:
              - type: entities
                title: Sleep as Android
                show_header_toggle: false
                entities:
                  - sensor.sleep_tracker
                  - sensor.phone_alarm
                  - counter.snooze_counter
                  - input_select.sleep_state

              - type: entities
                title: Bedroom Sensors
                show_header_toggle: false
                entities:
                  - binary_sensor.bedroom_sensor
                  - sensor.bedroom_luminance
                  - sensor.bedroom_relative_humidity
                  - sensor.bedroom_temperature

  # /Bedroom

  - title: Kontor
    path: office
    panel: true
    icon: 'mdi:desktop-tower'
    cards:
      - type: custom:layout-card
        cards:
          - <<: *compact-custom-header

          - type: vertical-stack
            cards:
              - type: glance
                columns: 3
                show_state: false
                entities:
                  - entity: light.office_light_profile_bright
                    tap_action:
                      action: toggle
                  - entity: light.office_light_profile_default
                    tap_action:
                      action: toggle
                  - entity: light.office_light_profile_dimmed
                    tap_action:
                      action: toggle
                  - entity: light.office_light_profile_ambient
                    tap_action:
                      action: toggle
                  - entity: light.office_light_profile_night
                    tap_action:
                      action: toggle
                  - entity: light.office_light_profile_off
                    tap_action:
                      action: toggle
                  - entity: binary_sensor.office_activity
                    name: Activity
                  - entity: light.office_activity_override
                    name: Activity Override
                    tap_action:
                      action: toggle
                  - entity: light.office_separate_light_profile
                    name: Separate
                    tap_action:
                      action: toggle

              - type: conditional
                conditions:
                  - entity: input_boolean.office_activity_override
                    state: 'on'
                card:
                  type: entities
                  show_title: false
                  show_header_toggle: false
                  entities:
                    - entity: input_select.office_room_state

              - type: glance
                entities:
                  - entity: light.office_desk_spots
                    name: Desk Spots
                    tap_action:
                      action: toggle
                  - entity: light.office_shelf
                    name: Desk Shelf
                    tap_action:
                      action: toggle
                  - entity: light.office_strip
                    tap_action:
                      action: toggle
                  - entity: light.screen_shelf
                    tap_action:
                      action: toggle
                  - entity: light.office_shelves
                    name: Bookcase
                    tap_action:
                      action: toggle
                  - entity: light.office_shelf_bar
                    name: Desk Bar
                    tap_action:
                      action: toggle
                  - entity: light.hobby_desk
                    tap_action:
                      action: toggle
                  - entity: light.hobby_desk_lamp
                    tap_action:
                      action: toggle
                  - entity: light.office_spots
                    name: Spots
                    tap_action:
                      action: toggle
                title: Office Lights
                columns: 4
                show_state: false

          - break

          - type: vertical-stack
            cards:
              - type: glance
                title: Kontor Afbrydere
                entities:
                  - entity: switch.office_speaker_switch
                    name: Højttalere
                    tap_action:
                      action: toggle
                  - entity: switch.radiator
                    tap_action:
                      action: toggle

              - type: media-control
                entity: media_player.office_mini

              - type: media-control
                entity: media_player.office_speakers

              - type: media-control
                entity: media_player.desktop_pc_audio

              - type: media-control
                entity: media_player.office_soundbar

          - break

          - type: vertical-stack
            cards:
              - type: entities
                title: PC
                show_header_toggle: true
                entities:
                  - switch.pc
                  - sensor.steam_76561197970641649
                  - sensor.steam_game

              - type: entities
                title: Office Sensors
                show_header_toggle: false
                entities:
                  - binary_sensor.office_sensor
                  - sensor.office_luminance
                  - sensor.office_relative_humidity
                  - sensor.office_temperature

  # /Office

  - title: Køkken
    path: kitchen
    icon: 'mdi:food-fork-drink'
    panel: true
    cards:
      - type: custom:layout-card
        cards:
          - <<: *compact-custom-header

          - type: vertical-stack
            cards:
              - type: glance
                columns: 3
                show_state: false
                entities:
                  - entity: light.kitchen_light_profile_bright
                    tap_action:
                      action: toggle
                  - entity: light.kitchen_light_profile_default
                    tap_action:
                      action: toggle
                  - entity: light.kitchen_light_profile_dimmed
                    tap_action:
                      action: toggle
                  - entity: light.kitchen_light_profile_ambient
                    tap_action:
                      action: toggle
                  - entity: light.kitchen_light_profile_night
                    tap_action:
                      action: toggle
                  - entity: light.kitchen_light_profile_off
                    tap_action:
                      action: toggle
                  - entity: binary_sensor.kitchen_activity
                    name: Activity
                  - entity: light.kitchen_activity_override
                    name: Activity Override
                    tap_action:
                      action: toggle
                  - entity: light.kitchen_separate_light_profile
                    name: Separate
                    tap_action:
                      action: toggle

              - type: conditional
                conditions:
                  - entity: input_boolean.kitchen_activity_override
                    state: 'on'
                card:
                  type: entities
                  show_title: false
                  show_header_toggle: false
                  entities:
                    - entity: input_select.kitchen_room_state

              - type: glance
                title: Kitchen Lights
                columns: 4
                show_state: false
                entities:
                  - entity: light.kitchen
                    name: Loftlampe
                    tap_action:
                      action: toggle
                  - entity: light.kitchen_sink
                    name: Vask
                    tap_action:
                      action: toggle
                  - entity: light.kitchen_stove
                    name: Ovn
                    tap_action:
                      action: toggle
                  - entity: light.kitchen_cabinets
                    name: Underskabe
                    tap_action:
                      action: toggle
                  - entity: light.kitchen_spots
                    name: Spots
                    tap_action:
                      action: toggle

          - break

          - type: vertical-stack
            cards:
              - type: glance
                title: Køkken Afbrydere
                show_header_toggle: true
                entities:
                  - entity: switch.kitchen_tv_switch
                    name: TV
                    tap_action:
                      action: toggle
                  - entity: switch.elkedel
                    tap_action:
                      action: toggle

              - type: media-control
                entity: media_player.kitchen_mini

              - type: media-control
                entity: media_player.kitchen_chromecast

              - type: media-control
                entity: media_player.kitchen_speaker

          - break

          - type: vertical-stack
            cards:
              - type: entities
                title: Kitchen Sensors
                show_header_toggle: false
                entities:
                  - binary_sensor.kitchen_sensor
                  - sensor.kitchen_luminance
                  - sensor.kitchen_relative_humidity
                  - sensor.kitchen_temperature

  # /Kitchen

  - title: Badeværelse
    path: bathroom
    icon: 'mdi:water-pump'
    panel: true
    cards:
      - type: custom:layout-card
        cards:
          - <<: *compact-custom-header

          - type: vertical-stack
            cards:
              - type: glance
                columns: 3
                show_state: false
                entities:
                  - entity: light.bathroom_light_profile_bright
                    tap_action:
                      action: toggle
                  - entity: light.bathroom_light_profile_default
                    tap_action:
                      action: toggle
                  - entity: light.bathroom_light_profile_dimmed
                    tap_action:
                      action: toggle
                  - entity: light.bathroom_light_profile_ambient
                    tap_action:
                      action: toggle
                  - entity: light.bathroom_light_profile_night
                    tap_action:
                      action: toggle
                  - entity: light.bathroom_light_profile_off
                    tap_action:
                      action: toggle
                  - entity: binary_sensor.bathroom_activity
                    name: Activity
                  - entity: light.bathroom_activity_override
                    name: Activity Override
                    tap_action:
                      action: toggle
                  - entity: light.bathroom_separate_light_profile
                    name: Separate
                    tap_action:
                      action: toggle

              - type: conditional
                conditions:
                  - entity: input_boolean.bathroom_activity_override
                    state: 'on'
                card:
                  type: entities
                  show_title: false
                  show_header_toggle: false
                  entities:
                    - entity: input_select.bathroom_room_state

              - type: entities
                title: Bathroom Lights
                columns: 4
                show_header_toggle: true
                entities:
                  - light.bathroom

          - break

          - type: vertical-stack
            cards:
              - type: entities
                title: Bathroom Tablet
                show_header_toggle: false
                entities:
                  - entity: light.bathroom_tablet

              - type: media-control
                entity: media_player.bathroom_speaker

          - break

          - type: vertical-stack
            cards:
              - type: entities
                title: Bathroom Sensors
                show_header_toggle: false
                entities:
                  - binary_sensor.toilet_sensor
                  - binary_sensor.bathroom_window
                  - sensor.toilet_luminance
                  - sensor.toilet_relative_humidity
                  - sensor.toilet_temperature
                  - sensor.toilet_mold_indicator
                  - sensor.toilet_relative_humidity_change

  # /Bathroom

  - title: Gang
    path: hallway
    icon: 'mdi:arrow-all'
    panel: true
    cards:
      - type: custom:layout-card
        cards:
          - <<: *compact-custom-header

          - type: vertical-stack
            cards:
              - type: glance
                columns: 3
                show_state: false
                entities:
                  - entity: light.hallway_light_profile_bright
                    tap_action:
                      action: toggle
                  - entity: light.hallway_light_profile_default
                    tap_action:
                      action: toggle
                  - entity: light.hallway_light_profile_dimmed
                    tap_action:
                      action: toggle
                  - entity: light.hallway_light_profile_ambient
                    tap_action:
                      action: toggle
                  - entity: light.hallway_light_profile_night
                    tap_action:
                      action: toggle
                  - entity: light.hallway_light_profile_off
                    tap_action:
                      action: toggle
                  - entity: binary_sensor.hallway_activity
                    name: Activity
                  - entity: light.hallway_activity_override
                    name: Activity Override
                    tap_action:
                      action: toggle
                  - entity: light.hallway_separate_light_profile
                    name: Separate
                    tap_action:
                      action: toggle

              - type: conditional
                conditions:
                  - entity: input_boolean.hallway_activity_override
                    state: 'on'
                card:
                  type: entities
                  show_title: false
                  show_header_toggle: false
                  entities:
                    - entity: input_select.hallway_room_state

              - type: glance
                title: Hallway Lights
                columns: 4
                show_state: false
                entities:
                  - entity: light.hallway
                    tap_action:
                      action: toggle

          - break

          - type: vertical-stack
            cards:
              - type: entities
                entities:
                  - entity: light.hallway_tablet
                show_header_toggle: false
                title: Hallway Tablet

          - break

          - type: vertical-stack
            cards:
              - type: entities
                title: Hallway Sensors
                show_header_toggle: false
                entities:
                  - binary_sensor.hallway_sensor
                  - binary_sensor.apartment_door
                  - binary_sensor.apartment_lock
                  - sensor.hallway_luminance
                  - sensor.hallway_relative_humidity
                  - sensor.hallway_temperature

  # /Hallway

  - title: Klædeskab
    path: storage-room
    icon: 'mdi:tshirt-crew'
    panel: true
    cards:
      - type: custom:layout-card
        cards:
          - <<: *compact-custom-header

          - type: vertical-stack
            cards:
              - type: glance
                columns: 3
                show_state: false
                entities:
                  - entity: light.storage_room_light_profile_bright
                    tap_action:
                      action: toggle
                  - entity: light.storage_room_light_profile_default
                    tap_action:
                      action: toggle
                  - entity: light.storage_room_light_profile_dimmed
                    tap_action:
                      action: toggle
                  - entity: light.storage_room_light_profile_ambient
                    tap_action:
                      action: toggle
                  - entity: light.storage_room_light_profile_night
                    tap_action:
                      action: toggle
                  - entity: light.storage_room_light_profile_off
                    tap_action:
                      action: toggle
                  - entity: binary_sensor.storage_room_activity
                    name: Activity
                  - entity: light.storage_room_activity_override
                    name: Activity Override
                    tap_action:
                      action: toggle
                  - entity: light.storage_room_separate_light_profile
                    name: Separate
                    tap_action:
                      action: toggle

              - type: conditional
                conditions:
                  - entity: input_boolean.storage_room_activity_override
                    state: 'on'
                card:
                  type: entities
                  show_title: false
                  show_header_toggle: false
                  entities:
                    - entity: input_select.storage_room_room_state

              - type: glance
                columns: 4
                show_state: false
                entities:
                  - entity: light.storage_room
                    tap_action:
                      action: toggle

          - break

          - type: vertical-stack
            cards:
              - type: entities
                title: Storage Room Sensors
                show_header_toggle: false
                entities:
                  - binary_sensor.storage_room_motion
                  - binary_sensor.storage_room_door

          - break
  # /Walk in closet

  - title: Maintenance
    path: maintenance
    icon: 'mdi:wrench'
    panel: true
    cards:
      - type: custom:layout-card
        cards:
          - <<: *compact-custom-header

          - type: vertical-stack
            cards:
              - type: history-graph
                title: Power Usage
                show_header_toggle: false
                entities:
                  - sensor.energy_meter_watt

              - type: entities
                title: Energy Meter
                show_header_toggle: false
                entities:
                  - sensor.energy_meter_kwh
                  - sensor.energy_meter_watt
                  - sensor.energy_meter_watt_mean
                  - sensor.energy_meter_watt_change

              - type: entities
                title: Batteries
                show_header_toggle: false
                entities:
                  - sensor.tradfri_remote_control
                  - sensor.party_button_battery
                  - sensor.office_dimmer_battery
                  - sensor.bedroom_dimmer_battery

          - break

          - type: vertical-stack
            cards:
              - type: glance
                entities:
                  - entity: switch.stovsuger_lader
                    tap_action:
                      action: toggle

              - type: entities
                title: System Monitor
                show_header_toggle: false
                entities:
                  - entity: sensor.processor_use
                  - entity: sensor.memory_free
                  - entity: sensor.swap_use
                  - entity: sensor.disk_free
                  - entity: sensor.load_1m
                  - entity: sensor.load_5m
                  - entity: sensor.load_15m
                  - entity: sensor.last_boot
                  - entity: sensor.ha_installed_version
                  - entity: sensor.ha_current_version
                  - entity: sensor.ha_last_restart

          - break

          - type: vertical-stack
            cards:
              - type: history-graph
                title: Internet Speed
                hours_to_show: 12
                entities:
                  - sensor.speedtest_upload
                  - sensor.speedtest_download

              - type: entities
                title: Internet Status
                show_header_toggle: false
                entities:
                  - sensor.speedtest_ping
                  - sensor.external_ip
                  - sensor.speedtest_upload
                  - sensor.speedtest_download
  # /Tech room

  - title: Gang Tablet
    path: hallway-tablet
    icon: 'mdi:tablet-android'
    panel: true
    cards:
      - type: vertical-stack
        cards:
          - <<: *compact-custom-header
            header: 'true, true, false, false, false, false, false'

          - type: horizontal-stack
            cards:
              - type: custom:card-modder
                style:
                  padding: 0px
                card:
                  type: custom:bignumber-card
                  scale: 64px
                  entity: sensor.time

              - type: custom:card-modder
                style:
                  padding: 0px
                card:
                  type: custom:bignumber-card
                  scale: 64px
                  entity: sensor.date_text

          - type: glance
            columns: 7
            show_state: false
            show_name: false
            entities:
              - entity: light.light_profile_bright
                tap_action:
                  action: toggle
              - entity: light.light_profile_default
                tap_action:
                  action: toggle
              - entity: light.light_profile_dimmed
                tap_action:
                  action: toggle
              - entity: light.light_profile_ambient
                tap_action:
                  action: toggle
              - entity: light.light_profile_night
                tap_action:
                  action: toggle
              - entity: light.light_profile_off
                tap_action:
                  action: toggle
              - entity: input_select.theme
                icon: mdi:palette

          - type: horizontal-stack
            cards:
              - type: vertical-stack
                cards:
                  # - <<: *animated-weather
                  - type: weather-forecast
                    entity: weather.dark_sky
                  - <<: *dmi-weather

                  - <<: *air-states

                  - type: conditional
                    conditions:
                      - entity: input_boolean.guests
                        state: 'off'
                    card:
                      <<: *aftership

              - type: vertical-stack
                cards:
                  - type: custom:bignumber-card
                    title: Strømforbrug
                    entity: sensor.energy_meter_watt
                    max: 3000
                    min: 0
                    scale: 30px
                    severity:
                      - value: 300
                        style: 'green'
                      - value: 500
                        style: 'yellow'
                      - value: 1000
                        style: 'red'

                  - type: horizontal-stack
                    cards:
                      - type: glance
                        entities:
                          - entity: binary_sensor.apartment_lock
                            name: Hoveddør

                      - <<: *s_train_status

                  - type: conditional
                    conditions:
                      - entity: binary_sensor.s_train_message_present
                        state: 'on'
                    card:
                      type: custom:card-modder
                      style:
                        padding: 0px
                      card:
                        type: 'custom:useful-markdown-card'
                        content: >-
                          <font size=4>
                            [[sensor.s_train_message.state]]
                          </font>

                  - <<: *playlist-controls

                  - type: conditional
                    card:
                      type: media-control
                      entity: media_player.all_speakers
                    conditions:
                      - entity: media_player.all_speakers
                        state_not: 'off'

                  - type: conditional
                    card:
                      type: media-control
                      entity: media_player.east_side_speakers
                    conditions:
                      - entity: media_player.east_side_speakers
                        state_not: 'off'

                  - type: conditional
                    card:
                      type: media-control
                      entity: media_player.west_side_speakers
                    conditions:
                      - entity: media_player.west_side_speakers
                        state_not: 'off'

                  - type: conditional
                    conditions:
                      - entity: input_boolean.guests
                        state: 'off'
                    card:
                      type: custom:calendar-card
                      title: ""
                      numberOfDays: 8
                      entities:
                        - calendar.holidays_in_denmark
                        - calendar.martin_darkfoxdk_eberhardt_tripit
                        - calendar.martin_eberhardt
                        - calendar.todoist

                  - type: conditional
                    conditions:
                      - entity: input_boolean.guests
                        state: 'on'
                    card:
                      type: markdown
                      content: !secret ui_wifi_content

                  - type: conditional
                    conditions:
                      - entity: input_boolean.guests
                        state: 'off'
                    card:
                      type: glance
                      entities:
                        - entity: input_boolean.guests
                          name: Gæster
                          tap_action:
                            action: toggle

  # /Hallway Tablet

  - title: Badeværelse Tablet
    path: bathroom-tablet
    icon: 'mdi:tablet'
    panel: true
    cards:
      - type: vertical-stack
        cards:
          - <<: *compact-custom-header
            header: 'true, true, false, false, false, false, false'

          - type: horizontal-stack
            cards:
              - type: vertical-stack
                cards:
                  - type: custom:card-modder
                    style:
                      padding: 0px
                    card:
                      type: custom:bignumber-card
                      scale: 100px
                      entity: sensor.time

                  - type: conditional
                    conditions:
                      - entity: input_boolean.guests
                        state: 'off'
                    card:
                      type: custom:calendar-card
                      title: ""
                      numberOfDays: 8
                      entities:
                        - calendar.holidays_in_denmark
                        - calendar.martin_darkfoxdk_eberhardt_tripit
                        - calendar.martin_eberhardt
                        - calendar.todoist

                  - type: conditional
                    conditions:
                      - entity: input_boolean.guests
                        state: 'off'
                    card:
                      <<: *aftership

              - type: vertical-stack
                cards:
                  - type: weather-forecast
                    entity: weather.dark_sky
                  - <<: *dmi-weather

                  - <<: *playlist-controls

                  - type: conditional
                    card:
                      type: media-control
                      entity: media_player.bathroom_speaker
                    conditions:
                      - entity: media_player.bathroom_speaker
                        state_not: 'off'

                  - type: conditional
                    card:
                      type: media-control
                      entity: media_player.all_speakers
                    conditions:
                      - entity: media_player.all_speakers
                        state_not: 'off'

                  - type: conditional
                    card:
                      type: media-control
                      entity: media_player.east_side_speakers
                    conditions:
                      - entity: media_player.east_side_speakers
                        state_not: 'off'

                  - type: conditional
                    card:
                      type: media-control
                      entity: media_player.west_side_speakers
                    conditions:
                      - entity: media_player.west_side_speakers
                        state_not: 'off'

              - type: vertical-stack
                cards:
                  - type: glance
                    columns: 4
                    show_state: false
                    entities:
                      - entity: light.bathroom_light_profile_bright
                        tap_action:
                          action: toggle
                      - entity: light.bathroom_light_profile_default
                        tap_action:
                          action: toggle
                      - entity: light.bathroom_light_profile_dimmed
                        tap_action:
                          action: toggle
                      - entity: light.bathroom_activity_override
                        name: Overstyring
                        tap_action:
                          action: toggle
                      - entity: light.bathroom_light_profile_ambient
                        tap_action:
                          action: toggle
                      - entity: light.bathroom_light_profile_night
                        tap_action:
                          action: toggle
                      - entity: light.bathroom_light_profile_off
                        tap_action:
                          action: toggle
                      - entity: light.bathroom_separate_light_profile
                        name: Separat
                        tap_action:
                          action: toggle

                  - type: conditional
                    conditions:
                      - entity: input_boolean.bathroom_activity_override
                        state: 'on'
                    card:
                      type: entities
                      show_title: false
                      show_header_toggle: false
                      entities:
                        - entity: input_select.bathroom_room_state

                  - <<: *air-states

                  - type: horizontal-stack
                    cards:
                      - <<: *s_train_status
                      - type: glance
                        entities:
                          - entity: binary_sensor.apartment_lock
                            name: Hoveddør

                  - type: conditional
                    conditions:
                      - entity: binary_sensor.s_train_message_present
                        state: 'on'
                    card:
                      type: custom:card-modder
                      style:
                        padding: 0px
                      card:
                        type: 'custom:useful-markdown-card'
                        content: >-
                          <font size=4>
                            [[sensor.s_train_message.state]]
                          </font>

  # /Bathroom Tablet

  - path: phone
    title: phone
    icon: 'mdi:cellphone'
    panel: true
    cards:
      - type: vertical-stack
        cards:
          - <<: *compact-custom-header

          - type: glance
            columns: 3
            show_state: false
            entities:
              - entity: light.light_profile_bright
                tap_action:
                  action: toggle
              - entity: light.light_profile_default
                tap_action:
                  action: toggle
              - entity: light.light_profile_dimmed
                tap_action:
                  action: toggle
              - entity: light.light_profile_ambient
                tap_action:
                  action: toggle
              - entity: light.light_profile_night
                tap_action:
                  action: toggle
              - entity: light.light_profile_off
                tap_action:
                  action: toggle

          - type: entities
            entities:
              - entity: input_select.theme
            show_header_toggle: false
            title: ''

          - type: entities
            title: Sleep as Android
            show_header_toggle: false
            entities:
              - sensor.sleep_tracker
              - sensor.phone_alarm
              - counter.snooze_counter
              - input_select.sleep_state

          - type: glance
            columns: 3
            show_name: false
            show_state: false
            title: Playlist
            entities:
              - entity: script.playlist_previous
                icon: mdi:skip-previous-circle
                tap_action:
                  action: toggle
              - entity: script.playlist_end
                icon: mdi:stop-circle
                tap_action:
                  action: toggle
              - entity: script.playlist_next
                icon: mdi:skip-next-circle
                tap_action:
                  action: toggle
  # /Phone

  - title: Kontor Tablet
    path: office-tablet
    icon: 'mdi:tablet'
    panel: true
    cards:
      - type: vertical-stack
        cards:
          - <<: *compact-custom-header
            header: 'true, true, false, false, false, false, false'

          - type: horizontal-stack
            cards:
              - type: vertical-stack
                cards:
                  - type: custom:card-modder
                    style:
                      padding: 0px
                    card:
                      type: custom:bignumber-card
                      scale: 100px
                      entity: sensor.time

                  - type: custom:calendar-card
                    title: ""
                    numberOfDays: 8
                    entities:
                      - calendar.holidays_in_denmark
                      - calendar.martin_darkfoxdk_eberhardt_tripit
                      - calendar.martin_eberhardt
                      - calendar.todoist

              - type: vertical-stack
                cards:
                  - <<: *animated-weather
                  - <<: *dmi-weather

                  - <<: *playlist-controls

                  - type: conditional
                    card:
                      type: media-control
                      entity: media_player.all_speakers
                    conditions:
                      - entity: media_player.all_speakers
                        state_not: 'off'

                  - type: conditional
                    card:
                      type: media-control
                      entity: media_player.east_side_speakers
                    conditions:
                      - entity: media_player.east_side_speakers
                        state_not: 'off'

                  - type: conditional
                    card:
                      type: media-control
                      entity: media_player.west_side_speakers
                    conditions:
                      - entity: media_player.west_side_speakers
                        state_not: 'off'

                  - type: glance
                    columns: 3
                    show_state: false
                    show_title: false
                    entities:
                      - entity: light.office_desk_spots
                        name: Desk Spots
                        tap_action:
                          action: toggle
                      - entity: light.office_shelf
                        name: Desk Shelf
                        tap_action:
                          action: toggle
                      - entity: light.office_strip
                        tap_action:
                          action: toggle
                      - entity: light.screen_shelf
                        tap_action:
                          action: toggle
                      - entity: light.office_shelves
                        name: Bookcase
                        tap_action:
                          action: toggle
                      - entity: light.office_shelf_bar
                        name: Desk Bar
                        tap_action:
                          action: toggle
                      - entity: light.hobby_desk
                        tap_action:
                          action: toggle
                      - entity: light.hobby_desk_lamp
                        tap_action:
                          action: toggle
                      - entity: light.office_spots
                        name: Spots
                        tap_action:
                          action: toggle

              - type: vertical-stack
                cards:
                  - type: glance
                    columns: 4
                    show_state: false
                    entities:
                      - entity: light.office_light_profile_bright
                        tap_action:
                          action: toggle
                      - entity: light.office_light_profile_default
                        tap_action:
                          action: toggle
                      - entity: light.office_light_profile_dimmed
                        tap_action:
                          action: toggle
                      - entity: light.office_activity_override
                        name: Overstyring
                        tap_action:
                          action: toggle
                      - entity: light.office_light_profile_ambient
                        tap_action:
                          action: toggle
                      - entity: light.office_light_profile_night
                        tap_action:
                          action: toggle
                      - entity: light.office_light_profile_off
                        tap_action:
                          action: toggle
                      - entity: light.office_separate_light_profile
                        name: Separat
                        tap_action:
                          action: toggle

                  - type: conditional
                    conditions:
                      - entity: input_boolean.office_activity_override
                        state: 'on'
                    card:
                      type: entities
                      show_title: false
                      show_header_toggle: false
                      entities:
                        - entity: input_select.office_room_state

                  - <<: *air-states

                  - type: custom:bignumber-card
                    title: Strømforbrug
                    entity: sensor.energy_meter_watt
                    max: 3000
                    min: 0
                    scale: 30px
                    severity:
                      - value: 300
                        style: 'green'
                      - value: 500
                        style: 'yellow'
                      - value: 1000
                        style: 'red'

  # /Office Tablet
