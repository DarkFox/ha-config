resources:
  ### HACS ###
  # Mods
  - url: /community_plugin/lovelace-card-mod/card-mod.js
    type: module
  - url: /community_plugin/compact-custom-header/compact-custom-header.js
    type: module
  - url: /community_plugin/lovelace-markdown-mod/markdown-mod.js
    type: module
  - url: /community_plugin/decluttering-card/decluttering-card.js
    type: module
  
  # Cards
  - url: /community_plugin/mini-media-player/mini-media-player.js
    type: module
  - url: /community_plugin/swipe-card/swipe-card.js
    type: module
  - url: /community_plugin/mini-graph-card/mini-graph-card.js
    type: module
  - url: /community_plugin/weather-card/weather-card.js
    type: module
  - url: /community_plugin/simple-weather-card/simple-weather-card.js
    type: module
  - url: /community_plugin/atomic_calendar/atomic_calendar.js
    type: module
  - url: /community_plugin/text-divider-row/text-divider-row.js
    type: module
  - url: /community_plugin/config-template-card/config-template-card.js
    type: module
  - url: /community_plugin/list-card/list-card.js
    type: js
  - url: /community_plugin/flex-table-card/flex-table-card.js
    type: js
  - url: /community_plugin/vertical-stack-in-card/vertical-stack-in-card.js
    type: js
  - url: /community_plugin/bignumber-card/bignumber-card.js
    type: js
  - url: /community_plugin/button-card/button-card.js
    type: module
  - url: /community_plugin/aftership-card/aftership-card.js
    type: module

  ### UNTRACKED ###
  # Libs
  - url: /local/custom-lovelace/card-tools/card-tools.js?v=random123
    type: js
  # Mods
  - url: /local/custom-lovelace/card-modder/card-modder.js?v=random123
    type: js
  - url: /local/custom-lovelace/layout-card/layout-card.js?v=random123
    type: js
  # Cards
  - url: /local/custom-lovelace/auto-entities/auto-entities.js?v=random123
    type: js
  - url: /local/custom-lovelace/popup-card/popup-card.js?v=random123
    type: js
  - url: /local/custom-lovelace/rejseplanen-card/rejseplanen-card.js?v=0.14
    type: js

decluttering_templates:
  room_light_profile:
    card:
      type: vertical-stack
      cards:
        - type: horizontal-stack
          cards:
            - type: "custom:button-card"
              size: 50px
              name: Lyst
              color: rgb(255,152,0)
              entity: light.[[room]]_light_profile_bright
            - type: "custom:button-card"
              size: 50px
              name: Normal
              color: rgb(255,152,0)
              entity: light.[[room]]_light_profile_default
            - type: "custom:button-card"
              size: 50px
              name: Dæmpet
              color: rgb(255,152,0)
              entity: light.[[room]]_light_profile_dimmed
        - type: horizontal-stack
          cards:
            - type: "custom:button-card"
              size: 50px
              name: Baggrund
              color: rgb(255,152,0)
              entity: light.[[room]]_light_profile_ambient
            - type: "custom:button-card"
              size: 50px
              name: Nat
              color: rgb(255,152,0)
              entity: light.[[room]]_light_profile_night
            - type: "custom:button-card"
              size: 50px
              name: Slukket
              color: rgb(255,152,0)
              entity: light.[[room]]_light_profile_off
        
  room_state_and_light_profile:
    card:
      type: vertical-stack
      cards:
        - type: horizontal-stack
          cards:
            - type: "custom:button-card"
              size: 50px
              name: Lyst
              color: rgb(255,152,0)
              entity: light.[[room]]_light_profile_bright
            - type: "custom:button-card"
              size: 50px
              name: Normal
              color: rgb(255,152,0)
              entity: light.[[room]]_light_profile_default
            - type: "custom:button-card"
              size: 50px
              name: Dæmpet
              color: rgb(255,152,0)
              entity: light.[[room]]_light_profile_dimmed
        - type: horizontal-stack
          cards:
            - type: "custom:button-card"
              size: 50px
              name: Baggrund
              color: rgb(255,152,0)
              entity: light.[[room]]_light_profile_ambient
            - type: "custom:button-card"
              size: 50px
              name: Nat
              color: rgb(255,152,0)
              entity: light.[[room]]_light_profile_night
            - type: "custom:button-card"
              size: 50px
              name: Slukket
              color: rgb(255,152,0)
              entity: light.[[room]]_light_profile_off
        - type: horizontal-stack
          cards:
            - type: "custom:button-card"
              size: 50px
              name: Aktivitet
              entity: binary_sensor.[[room]]_activity
              icon: mdi:circle
              color: rgb(255,152,0)
              tap_action:
                action: more-info
                entity: group.[[room]]_activity_entities
              state:
                - value: 'off'
                  icon: mdi:circle-outline
            - type: "custom:button-card"
              size: 50px
              name: Overstyring
              entity: light.[[room]]_activity_override
              color: rgb(255,152,0)
            - type: "custom:button-card"
              size: 50px
              name: Separat
              entity: light.[[room]]_separate_light_profile
              color: rgb(255,152,0)
        - type: conditional
          conditions:
            - entity: input_boolean.[[room]]_activity_override
              state: 'on'
          card:
            type: entities
            show_title: false
            show_header_toggle: false
            entities:
              - entity: input_select.[[room]]_room_state

  room_climate:
    card:
      type: horizontal-stack
      cards:
        - type: custom:mini-graph-card
          name: "Temperatur"
          points_per_hour: 1
          hours_to_show: 12
          hour24: true
          line_color: DarkOrange
          line_width: 8
          font_size: 75
          entities:
            - sensor.[[room]]_temperature

        - type: custom:mini-graph-card
          name: "Luftfugtighed"
          points_per_hour: 1
          hours_to_show: 12
          hour24: true
          line_color: DodgerBlue
          line_width: 8
          font_size: 75
          entities:
            - sensor.[[room]]_relative_humidity

        - type: custom:mini-graph-card
          name: "Lys"
          points_per_hour: 1
          hours_to_show: 12
          hour24: true
          line_color: '#e74c3c'
          line_width: 8
          font_size: 75
          entities:
            - sensor.[[room]]_luminance



popup_cards:
  sensor.playlist_player:
    title: Afspiller
    card:
      type: vertical-stack
      cards:
        - type: custom:card-modder
          extra_styles: >
            .text-divider {
              font-size: 14px;
              margin: 0px;
            }
          card:
            type: 'custom:text-divider-row'
            text: Grupper
        - type: horizontal-stack
          cards:
            - type: "custom:button-card"
              icon: mdi:speaker-multiple
              name: All Speakers
              style:
                - font-size: 12px
                - font-weight: normal
              entity: input_select.playlist_player
              state:
                - value: "media_player.alle_hojttalere"
                  color: rgb(255, 152, 0)
              tap_action:
                action: call-service
                service: input_select.select_option
                service_data:
                  entity_id: input_select.playlist_player
                  option: "media_player.alle_hojttalere"

            - type: "custom:button-card"
              icon: mdi:speaker-multiple
              name: East Side Speakers
              style:
                - font-size: 12px
                - font-weight: normal
              entity: input_select.playlist_player
              state:
                - value: "media_player.ost_hojttalere"
                  color: rgb(255, 152, 0)
              tap_action:
                action: call-service
                service: input_select.select_option
                service_data:
                  entity_id: input_select.playlist_player
                  option: "media_player.ost_hojttalere"

            - type: "custom:button-card"
              icon: mdi:speaker-multiple
              name: West Side Speakers
              style:
                - font-size: 12px
                - font-weight: normal
              entity: input_select.playlist_player
              state:
                - value: "media_player.vest_hojttalere"
                  color: rgb(255, 152, 0)
              tap_action:
                action: call-service
                service: input_select.select_option
                service_data:
                  entity_id: input_select.playlist_player
                  option: "media_player.vest_hojttalere"

        - type: custom:card-modder
          extra_styles: >
            .text-divider {
              font-size: 14px;
              margin: 0px;
            }
          card:
            type: 'custom:text-divider-row'
            text: Højttalere
        - type: horizontal-stack
          cards:
            - type: "custom:button-card"
              icon: mdi:hotel
              name: Sovevaerelse Soundbar
              style:
                - font-size: 12px
                - font-weight: normal
              entity: input_select.playlist_player
              state:
                - value: "media_player.sovevaerelse_soundbar"
                  color: rgb(255, 152, 0)
              tap_action:
                action: call-service
                service: input_select.select_option
                service_data:
                  entity_id: input_select.playlist_player
                  option: "media_player.sovevaerelse_soundbar"

            - type: "custom:button-card"
              icon: mdi:fridge-outline
              name: Kitchen Speaker
              style:
                - font-size: 12px
                - font-weight: normal
              entity: input_select.playlist_player
              state:
                - value: "media_player.kokken_hojttaler_cc"
                  color: rgb(255, 152, 0)
              tap_action:
                action: call-service
                service: input_select.select_option
                service_data:
                  entity_id: input_select.playlist_player
                  option: "media_player.kokken_hojttaler_cc"

            - type: "custom:button-card"
              icon: mdi:shower
              name: Bathroom Speaker
              style:
                - font-size: 12px
                - font-weight: normal
              entity: input_select.playlist_player
              state:
                - value: "media_player.badevaerelse_mini"
                  color: rgb(255, 152, 0)
              tap_action:
                action: call-service
                service: input_select.select_option
                service_data:
                  entity_id: input_select.playlist_player
                  option: "media_player.badevaerelse_mini"

        - type: horizontal-stack
          cards:
            - type: "custom:button-card"
              icon: mdi:desktop-classic
              name: Office Speakers
              style:
                - font-size: 12px
                - font-weight: normal
              entity: input_select.playlist_player
              state:
                - value: "media_player.kontor_hojttaler"
                  color: rgb(255, 152, 0)
              tap_action:
                action: call-service
                service: input_select.select_option
                service_data:
                  entity_id: input_select.playlist_player
                  option: "media_player.kontor_hojttaler"

            - type: "custom:button-card"
              icon: mdi:sofa
              name: Stue Soundbar
              style:
                - font-size: 12px
                - font-weight: normal
              entity: input_select.playlist_player
              state:
                - value: "media_player.stue_soundbar"
                  color: rgb(255, 152, 0)
              tap_action:
                action: call-service
                service: input_select.select_option
                service_data:
                  entity_id: input_select.playlist_player
                  option: "media_player.stue_soundbar"

        - type: custom:card-modder
          extra_styles: >
            .text-divider {
              font-size: 14px;
              margin: 0px;
            }
          card:
            type: 'custom:text-divider-row'
            text: Video
        - type: horizontal-stack
          cards:
            - type: "custom:button-card"
              icon: mdi:television
              name: Kitchen Chromecast
              style:
                - font-size: 12px
                - font-weight: normal
              entity: input_select.playlist_player
              state:
                - value: "media_player.kokken_chromecast"
                  color: rgb(255, 152, 0)
              tap_action:
                action: call-service
                service: input_select.select_option
                service_data:
                  entity_id: input_select.playlist_player
                  option: "media_player.kokken_chromecast"
        
            - type: "custom:button-card"
              icon: mdi:television
              name: Bedroom Chromecast
              style:
                - font-size: 12px
                - font-weight: normal
              entity: input_select.playlist_player
              state:
                - value: "media_player.sovevaerelse_chromecast"
                  color: rgb(255, 152, 0)
              tap_action:
                action: call-service
                service: input_select.select_option
                service_data:
                  entity_id: input_select.playlist_player
                  option: "media_player.sovevaerelse_chromecast"

            - type: "custom:button-card"
              icon: mdi:television
              name: Stue Chromecast
              style:
                - font-size: 12px
                - font-weight: normal
              entity: input_select.playlist_player
              state:
                - value: "media_player.stue_chromecast"
                  color: rgb(255, 152, 0)
              tap_action:
                action: call-service
                service: input_select.select_option
                service_data:
                  entity_id: input_select.playlist_player
                  option: "media_player.stue_chromecast"

        - type: custom:card-modder
          extra_styles: >
            .text-divider {
              font-size: 14px;
              margin: 0px;
            }
          card:
            type: 'custom:text-divider-row'
            text: Minis
        - type: horizontal-stack
          cards:
            - type: "custom:button-card"
              icon: mdi:google-assistant
              name: Bedroom Mini
              style:
                - font-size: 12px
                - font-weight: normal
              entity: input_select.playlist_player
              state:
                - value: "media_player.sovevaerelse_mini"
                  color: rgb(255, 152, 0)
              tap_action:
                action: call-service
                service: input_select.select_option
                service_data:
                  entity_id: input_select.playlist_player
                  option: "media_player.sovevaerelse_mini"

            - type: "custom:button-card"
              icon: mdi:google-assistant
              name: Kitchen Mini
              style:
                - font-size: 12px
                - font-weight: normal
              entity: input_select.playlist_player
              state:
                - value: "media_player.kokken_mini"
                  color: rgb(255, 152, 0)
              tap_action:
                action: call-service
                service: input_select.select_option
                service_data:
                  entity_id: input_select.playlist_player
                  option: "media_player.kokken_mini"

            - type: "custom:button-card"
              icon: mdi:google-assistant
              name: Living Room Mini
              style:
                - font-size: 12px
                - font-weight: normal
              entity: input_select.playlist_player
              state:
                - value: "media_player.stue_mini"
                  color: rgb(255, 152, 0)
              tap_action:
                action: call-service
                service: input_select.select_option
                service_data:
                  entity_id: input_select.playlist_player
                  option: "media_player.stue_mini"

        - type: horizontal-stack
          cards:
            - type: "custom:button-card"
              icon: mdi:google-assistant
              name: Office Mini
              style:
                - font-size: 12px
                - font-weight: normal
              entity: input_select.playlist_player
              state:
                - value: "media_player.kontor_mini"
                  color: rgb(255, 152, 0)
              tap_action:
                action: call-service
                service: input_select.select_option
                service_data:
                  entity_id: input_select.playlist_player
                  option: "media_player.kontor_mini"

            - type: "custom:button-card"
              icon: mdi:google-assistant
              name: Minis
              style:
                - font-size: 12px
                - font-weight: normal
              entity: input_select.playlist_player
              state:
                - value: "media_player.minis"
                  color: rgb(255, 152, 0)
              tap_action:
                action: call-service
                service: input_select.select_option
                service_data:
                  entity_id: input_select.playlist_player
                  option: "media_player.minis"

            - type: "custom:button-card"
              icon: mdi:cancel
              name: None
              style:
                - font-size: 12px
                - font-weight: normal
              entity: input_select.playlist_player
              state:
                - value: "None"
                  color: rgb(255, 152, 0)
              tap_action:
                action: call-service
                service: input_select.select_option
                service_data:
                  entity_id: input_select.playlist_player
                  option: "None"


  binary_sensor.playlist_playing:
    title: Playlister
    card:
      type: vertical-stack
      cards:
        - type: horizontal-stack
          cards:
            - type: "custom:button-card"
              icon: mdi:music
              name: Radio Soft
              tap_action:
                action: call-service
                service: script.playlist_play_radio_soft
            - type: "custom:button-card"
              icon: mdi:music
              name: Nova FM
              tap_action:
                action: call-service
                service: script.playlist_play_nova_fm
            - type: "custom:button-card"
              icon: mdi:music
              name: MyRock
              tap_action:
                action: call-service
                service: script.playlist_play_my_rock

        - type: horizontal-stack
          cards:
            - type: "custom:button-card"
              icon: mdi:music
              name: Groove Salad
              tap_action:
                action: call-service
                service: script.playlist_play_groove_salad
            - type: "custom:button-card"
              icon: mdi:music
              name: DR P3
              tap_action:
                action: call-service
                service: script.playlist_play_dr_p3
            - type: "custom:button-card"
              icon: mdi:music
              name: DR P6 Beat
              tap_action:
                action: call-service
                service: script.playlist_play_dr_p6_beat

        - type: horizontal-stack
          cards:
            - type: "custom:button-card"
              icon: mdi:radio
              name: Radio 24Syv
              tap_action:
                action: call-service
                service: script.playlist_play_radio_24syv
            - type: "custom:button-card"
              icon: mdi:newspaper
              name: BBC Minute
              tap_action:
                action: call-service
                service: script.playlist_play_bbc_minute
            - type: "custom:button-card"
              icon: mdi:newspaper
              name: 24Syv Nyheder
              tap_action:
                action: call-service
                service: script.playlist_play_24syv_nyheder

        - type: horizontal-stack
          cards:
            - type: "custom:button-card"
              icon: mdi:desktop-classic
              name: Daily Tech News Show
              tap_action:
                action: call-service
                service: script.playlist_play_daily_tech_news_show
            - type: "custom:button-card"
              icon: mdi:format-list-bulleted
              name: Status
              tap_action:
                action: call-service
                service: script.playlist_play_briefing
            - type: "custom:button-card"
              icon: mdi:weather-partlycloudy
              name: Vejrudsigt
              tap_action:
                action: call-service
                service: script.playlist_play_weather_report

        - type: horizontal-stack
          cards:
            - type: "custom:button-card"
              icon: mdi:stop-circle
              name: Stop
              tap_action:
                action: call-service
                service: script.playlist_end
            - type: "custom:button-card"
              icon: mdi:stop-circle
              name: Stop
              tap_action:
                action: call-service
                service: script.playlist_end
            - type: "custom:button-card"
              icon: mdi:stop-circle
              name: Stop
              tap_action:
                action: call-service
                service: script.playlist_end

  sensor.dmi_aktuelle_varsler:
    title: Alle Varsler
    card:
      type: custom:list-card
      entity: sensor.dmi_aktuelle_varsler
      columns:
        - title: Varsel
          field: warningText
        - title: "/!\\"
          field: formattedCategory
        - title: Til
          field: validToText
          style:
            - white-space: nowrap

  sensor.dmi_kommende_varsler:
    title: Kommende Varsler
    card:
      type: custom:list-card
      entity: sensor.dmi_kommende_varsler
      columns:
        - title: Varsel
          field: warningText
        - title: "/!\\"
          field: formattedCategory
        - title: Periode
          field: peiod
          style:
            - white-space: nowrap

node_anchors:
  s_train_status: &s_train_status
    type: custom:card-modder
    style:
      --paper-card-background-color: '#7DB362'
      --primary-text-color: white
    card:
      type: 'markdown'
      content: |
        <center>
           <font size=6>[[ sensor.s_train_b_next_fmt.state ]]</font>
          <font size=4>min</font>
        </center>

        <center>
          <font size=4>[[ sensor.s_train_b_later_fmt.state ]]</font>
          <font size=2>min</font>
        </center>
        &nbsp;
        <center>
          <font size=4>
            [[ sensor.s_train_b_status.state ]]
          </font>
        </center>

  calendar: &calendar
    type: custom:atomic-calendar
    title: ''
    maxDaysToShow: 3
    fullDayEventText: 'Hele dagen'
    untilText: 'Indtil'
    noEventsForTodayText: 'Ingen aftaler i dag'
    hoursFormat: 24h
    locationTextSize: 0
    showNoEventsForToday: true
    showProgressBar: true
    entities:
      - entity: calendar.contacts_addressbook
        titleColor: Red
      - entity: calendar.helligdage_i_danmark
        titleColor: Green
      - entity: calendar.martin_darkfoxdk_eberhardt_tripit
        titleColor: DarkOrange
      - entity: calendar.martin_eberhardt
        titleColor: blue
      - entity: calendar.trustpilot
        titleColor: DarkViolet

  dmi_weather: &dmi-weather
    - type: vertical-stack
      cards:
        - type: sensor
          entity: sensor.dmi_vejr
          name: Vejrudsigt
          icon: mdi:cloud

        - type: conditional
          conditions:
            - entity: binary_sensor.show_weather_warnings
              state: "on"
          card:
            type: glance
            show_name: false
            entities:
              - entity: sensor.dmi_aktuel_varsel
              - entity: sensor.dmi_aktuelle_varsler
                icon: mdi:cloud-alert
              - entity: sensor.dmi_kommende_varsler
                icon: mdi:progress-clock


  animated_weather: &animated-weather
    type: custom:weather-card
    entity: weather.dark_sky

  playlist_controls: &playlist-controls
    type: vertical-stack
    cards:
      - type: glance
        title: Radio
        show_state: true
        entities:
          - sensor.playlist_player
          - entity: binary_sensor.playlist_playing
            icon: mdi:music
            name: Playliste

      - type: conditional
        conditions:
          - entity: binary_sensor.playlist_playing
            state: 'on'
        card:
          type: glance
          columns: 3
          show_name: false
          show_state: false
          entities:
            - entity: script.playlist_previous
              icon: mdi:skip-previous-circle
              tap_action:
                action: toggle
            - entity: script.playlist_end
              icon: mdi:stop-circle
              tap_action:
                action: toggle
            - entity: script.playlist_next
              icon: mdi:skip-next-circle
              tap_action:
                action: toggle

  air_states: &air-states
    type: custom:swipe-card
    cards:
      - type: custom:vertical-stack-in-card
        cards:
          - type: horizontal-stack
            cards:
              - type: vertical-stack
                cards:
                  - type: custom:card-modder
                    style:
                      padding: 0px 0px 0px 0px
                    card:
                      type: sensor
                      name: Badeværelse
                      entity: sensor.toilet_temperature

                  - type: custom:card-modder
                    style:
                      padding: 0px 0px 0px 0px
                    card:
                      type: sensor
                      name: " "
                      entity: sensor.toilet_relative_humidity

              - type: vertical-stack
                cards:
                  - type: custom:card-modder
                    style:
                      padding: 0px 0px 0px 0px
                    card:
                      type: sensor
                      name: Stue
                      entity: sensor.livingroom_temperature

                  - type: custom:card-modder
                    style:
                      padding: 0px 0px 0px 0px
                    card:
                      type: sensor
                      name: " "
                      entity: sensor.livingroom_relative_humidity

              - type: vertical-stack
                cards:
                  - type: custom:card-modder
                    style:
                      padding: 0px 0px 0px 0px
                    card:
                      type: sensor
                      name: Kontor
                      entity: sensor.office_temperature

                  - type: custom:card-modder
                    style:
                      padding: 0px 0px 0px 0px
                    card:
                      type: sensor
                      name: " "
                      entity: sensor.office_relative_humidity

      - type: custom:vertical-stack-in-card
        cards:
          - type: horizontal-stack
            cards:
              - type: vertical-stack
                cards:
                  - type: custom:card-modder
                    style:
                      padding: 0px 0px 0px 0px
                    card:
                      type: sensor
                      name: Soveværelse
                      entity: sensor.bedroom_temperature

                  - type: custom:card-modder
                    style:
                      padding: 0px 0px 0px 0px
                    card:
                      type: sensor
                      name: " "
                      entity: sensor.bedroom_relative_humidity

              - type: vertical-stack
                cards:
                  - type: custom:card-modder
                    style:
                      padding: 0px 0px 0px 0px
                    card:
                      type: sensor
                      name: Gang
                      entity: sensor.hallway_temperature

                  - type: custom:card-modder
                    style:
                      padding: 0px 0px 0px 0px
                    card:
                      type: sensor
                      name: " "
                      entity: sensor.hallway_relative_humidity

cch:
  options: clock
  clock_format: 24
  clock_date: true
  notification: overflow
  voice: hide
  show_tabs: 0,1,2,3,4,5,6,7,8,13,14
  exceptions:
    - conditions:
        user_agent: Nexus
      config:
        header: false
        disable_sidebar: true
        notifications: hide
        voice: hide
        show_tabs: '9'
    - conditions:
        user_agent: KFFOWI
      config:
        header: false
        disable_sidebar: true
        notifications: hide
        voice: hide
        show_tabs: '10'
    - conditions:
        user_agent: iPad
      config:
        show_tabs: 0,1,2,3,4,5,6,7,8,12
    - conditions:
        user_agent: Lenovo
      config:
        header: false
        disable_sidebar: true
        notifications: hide
        voice: hide
        show_tabs: '10'
    - conditions:
        user_agent: Android
      config:
        notifications: hide
        voice: hide
        show_tabs: 0,1,2,3,4,5,6,7,8,11
    - conditions:
        user_agent: "Raspbian Chromium"
      config:
        header: false
        disable_sidebar: true
        notifications: hide
        voice: hide
        show_tabs: '13'

title: Home
views:
  - title: Hjem
    path: home
    icon: 'mdi:home'
    panel: true
    cards:
      - type: custom:layout-card
        column_width: 300
        cards:
          - type: vertical-stack
            cards:
              - type: horizontal-stack
                cards:
                  - type: "custom:button-card"
                    size: 50px
                    name: Lyst
                    color: rgb(255,152,0)
                    entity: light.light_profile_bright
                  - type: "custom:button-card"
                    size: 50px
                    name: Normal
                    color: rgb(255,152,0)
                    entity: light.light_profile_default
                  - type: "custom:button-card"
                    size: 50px
                    name: Dæmpet
                    color: rgb(255,152,0)
                    entity: light.light_profile_dimmed
              - type: horizontal-stack
                cards:
                  - type: "custom:button-card"
                    size: 50px
                    name: Baggrund
                    color: rgb(255,152,0)
                    entity: light.light_profile_ambient
                  - type: "custom:button-card"
                    size: 50px
                    name: Nat
                    color: rgb(255,152,0)
                    entity: light.light_profile_night
                  - type: "custom:button-card"
                    size: 50px
                    name: Slukket
                    color: rgb(255,152,0)
                    entity: light.light_profile_off

              - type: entities
                title: ''
                show_header_toggle: false
                entities:
                  - entity: input_select.theme
                  - entity: input_number.scene_transition_time
                  - entity: input_number.tradfri_dimmer

              - type: glance
                entities:
                  - entity: sensor.postkasse
                    tap_action: call-service
                    service: script.reset_snail_mail
                  - vacuum.xiaomi_vacuum_cleaner

              - type: entities
                title: Party Mode
                show_header_toggle: false
                entities:
                  - input_boolean.party_mode
                  - switch.party_button
                  - sensor.party_button_battery

          - break

          - type: vertical-stack
            cards:
              - <<: *calendar

              - type: entities
                title: Presence
                show_header_toggle: false
                entities:
                  - device_tracker.google_maps_102040676821115196041
                  - binary_sensor.martin_presence

              - type: entities
                title: Activity Tracker
                show_header_toggle: false
                entities:
                  - input_select.martin_activity
                  - input_select.latest_motion
                  - input_boolean.guests
                  - input_boolean.vacation_mode

              # - type: sensor
              #   entity: sensor.energy_meter_watt
              #   name: Strømforbrug
              #   graph: line

          - break

          - type: vertical-stack
            cards:
              - <<: *animated-weather

              - <<: *dmi-weather

              - type: custom:mini-graph-card
                name: "Temperatur"
                points_per_hour: 4
                hours_to_show: 24
                hour24: true
                more-info: false
                line_width: 2
                height: 200
                show:
                  state: false
                  points: false
                  labels: true
                  labels_secondary: false
                entities:
                  - entity: sensor.livingroom_temperature
                    name: Stue
                    show_fill: false
                  - entity: sensor.bedroom_temperature
                    name: Soveværels
                    show_fill: false
                  - entity: sensor.toilet_temperature
                    name: Toilet
                    show_fill: false
                  - entity: sensor.kitchen_temperature
                    name: Køkken
                    show_fill: false
                  - entity: sensor.office_temperature
                    name: Kontor
                    show_fill: false
                  - entity: sensor.hallway_temperature
                    name: Gang
                    show_fill: false
                  - entity: sensor.sun_elevation
                    color: gray
                    name: Sun Elevation
                    show_line: false
                    show_points: false
                    show_legend: false
                    y_axis: secondary

          - break

          - type: vertical-stack
            cards:
              - type: 'custom:aftership-card'
                entity: sensor.aftership
                title: Packages

              - type: custom:browser-player

              - <<: *playlist-controls

              - type: custom:mini-media-player
                artwork: cover
                entity: media_player.alle_hojttalere

              - type: custom:mini-media-player
                artwork: cover
                entity: media_player.ost_hojttalere

              - type: custom:mini-media-player
                artwork: cover
                entity: media_player.vest_hojttalere

              - type: custom:mini-media-player
                artwork: cover
                entity: media_player.minis

              - type: custom:mini-media-player
                artwork: cover
                entity: media_player.spotify

  # /Home

  - path: living-room
    title: Living Room
    icon: 'mdi:sofa'
    panel: true
    cards:
      - type: custom:layout-card
        column_width: 300
        cards:
          - type: vertical-stack
            cards:
              - type: custom:decluttering-card
                template: room_state_and_light_profile
                variables:
                  - room: living_room

              - type: glance
                columns: 4
                show_state: false
                entities:
                  - entity: switch.stue_tv
                    name: TV
                    tap_action:
                      action: toggle

              - type: glance
                columns: 4
                show_state: false
                entities:
                  - entity: light.sofa_table
                    name: Under Sofabord
                    tap_action:
                      action: toggle
                  - entity: light.sofalampe
                    name: Sofabord
                    tap_action:
                      action: toggle
                  - entity: light.spisebord
                    name: Spisebord
                    tap_action:
                      action: toggle
                  - entity: light.tv_shelf
                    name: TV Hylde
                    tap_action:
                      action: toggle
                  - entity: light.tv_backlight
                    name: TV Bagbelysning
                    tap_action:
                      action: toggle
                  - entity: light.windowsill
                    name: Vindueskarm
                    tap_action:
                      action: toggle
                  - entity: light.sofa_corner
                    name: Sofahjørne
                    tap_action:
                      action: toggle
                  - entity: light.bar
                    name: Bar
                    tap_action:
                      action: toggle
                  - entity: light.cabinet_shelves
                    name: Reol
                    tap_action:
                      action: toggle
                  - entity: light.cabinet_spots
                    name: Reol Spots
                    tap_action:
                      action: toggle
                  - entity: light.vitrineskab
                    name: Vitrineskab Front
                    tap_action:
                      action: toggle
                  - entity: light.display_cabinet_top
                    name: Vitrineskab Top
                    tap_action:
                      action: toggle
                  - entity: light.display_cabinet_bottom
                    name: Vitrineskab Bund
                    tap_action:
                      action: toggle
                  - entity: light.globe
                    name: Globe
                    tap_action:
                      action: toggle
                  - entity: light.projektor
                    name: Projektør
                    tap_action:
                      action: toggle
                  - entity: light.stue_spots
                    name: Spots
                    tap_action:
                      action: toggle

          - break

          - type: vertical-stack
            cards:
              - type: custom:decluttering-card
                template: room_climate
                variables:
                  - room: livingroom

              - type: entities
                title: Livingroom Sensors
                show_header_toggle: false
                entities:
                  - binary_sensor.sofagruppe_bevaegelse
                  - binary_sensor.livingroom_sensor
          
          - break

          - type: vertical-stack
            cards:
              - <<: *playlist-controls
              
              - type: custom:mini-media-player
                artwork: cover
                entity: media_player.stue_mini

              - type: custom:mini-media-player
                artwork: cover
                entity: media_player.stue_chromecast

              - type: custom:mini-media-player
                artwork: cover
                entity: media_player.stue_soundbar

              - type: custom:mini-media-player
                artwork: cover
                entity: media_player.stue_soundbar_songpal


  # /Livingroom

  - title: Soveværelse
    path: bedroom
    icon: 'mdi:hotel'
    panel: true
    cards:
      - type: custom:layout-card
        column_width: 300
        cards:
          - type: vertical-stack
            cards:
              - type: custom:decluttering-card
                template: room_state_and_light_profile
                variables:
                  - room: bedroom

              - type: glance
                columns: 4
                show_state: false
                entities:
                  - entity: switch.blaeser
                    name: Blæser
                    tap_action:
                      action: toggle
              
              - type: glance
                columns: 4
                show_state: false
                entities:
                  - entity: light.bedroom_shelf_strip
                    name: Hylde Lampe
                    tap_action:
                      action: toggle
                  - entity: light.sengelampe
                    name: Sengelampe
                    tap_action:
                      action: toggle
                  - entity: light.bedroom_shelf_spots
                    name: Hylde Spots
                    tap_action:
                      action: toggle
                  - entity: light.bedroom_floor
                    name: Reol
                    tap_action:
                      action: toggle
                  - entity: light.bed_table
                    name: Sidebord
                    tap_action:
                      action: toggle
                  - entity: light.sky
                    name: Sky
                    tap_action:
                      action: toggle

          - break

          - type: vertical-stack
            cards:
              - type: custom:decluttering-card
                template: room_climate
                variables:
                  - room: bedroom

              - type: entities
                title: Bedroom Sensors
                show_header_toggle: false
                entities:
                  - binary_sensor.bedroom_sensor
                  - binary_sensor.sovevaerelse_gulv_bevaegelse
                  - binary_sensor.seng_bevaegelse

              - type: entities
                title: Sleep as Android
                show_header_toggle: false
                entities:
                  - input_select.sleep_state
                  - sensor.sleep_tracker
                  - sensor.phone_alarm
                  - counter.snooze_counter

          - break

          - type: vertical-stack
            cards:
              - <<: *playlist-controls

              - type: custom:mini-media-player
                artwork: cover
                entity: media_player.bedroom_tv

              - type: custom:mini-media-player
                artwork: cover
                entity: media_player.sovevaerelse_chromecast

              - type: custom:mini-media-player
                artwork: cover
                entity: media_player.sovevaerelse_mini

              - type: custom:mini-media-player
                artwork: cover
                entity: media_player.sovevaerelse_soundbar

              - type: custom:mini-media-player
                artwork: cover
                entity: media_player.sovevaerelse_soundbar_songpal


  # /Bedroom

  - title: Kontor
    path: office
    panel: true
    icon: 'mdi:desktop-tower'
    cards:
      - type: custom:layout-card
        column_width: 300
        cards:
          - type: vertical-stack
            cards:
              - type: custom:decluttering-card
                template: room_state_and_light_profile
                variables:
                  - room: office

              - type: glance
                columns: 4
                show_state: false
                entities:
                  - entity: switch.martin_pc
                    tap_action:
                      action: toggle
                  - entity: switch.pc_tilbehor_afbryder
                    name: PC Tilbehør
                    tap_action:
                      action: toggle
                  - entity: switch.radiator
                    tap_action:
                      action: toggle

              - type: glance
                columns: 4
                show_state: false
                entities:
                  - entity: light.office_desk_spots
                    name: Desk Spots
                    tap_action:
                      action: toggle
                  - entity: light.office_shelf
                    name: Desk Shelf
                    tap_action:
                      action: toggle
                  - entity: light.kontor_loftlys
                    tap_action:
                      action: toggle
                  - entity:  light.skrivebord_bar
                    name: Desk Bar
                    tap_action:
                      action: toggle
                  - entity: light.hobbybord_lampe
                    tap_action:
                      action: toggle
                  - entity: light.hobbybord
                    name: Hobbybord
                    tap_action:
                      action: toggle
                  - entity: light.hobbybord_hylder
                    tap_action:
                      action: toggle
                  - entity: light.kontor_spots
                    name: Spots
                    tap_action:
                      action: toggle
                  - entity: light.lysestager
                    name: Lysestager
                    tap_action:
                      action: toggle
                  - entity: light.blink1
                    tap_action:
                      action: toggle

          - break

          - type: vertical-stack
            cards:
              - type: custom:decluttering-card
                template: room_climate
                variables:
                  - room: office

              - type: entities
                title: Office Sensors
                show_header_toggle: false
                entities:
                  - binary_sensor.office_sensor
                  - binary_sensor.pc_hobby_bevaegelse

          - break

          - type: vertical-stack
            cards:
              - type: entities
                title: PC
                show_header_toggle: true
                entities:
                  - sensor.steam_76561197970641649
                  - sensor.steam_game

              - <<: *playlist-controls

              - type: custom:mini-media-player
                artwork: cover
                entity: media_player.kontor_mini

              - type: custom:mini-media-player
                artwork: cover
                entity: media_player.kontor_hojttaler

  # /Office

  - title: Køkken
    path: kitchen
    icon: 'mdi:food-fork-drink'
    panel: true
    cards:
      - type: custom:layout-card
        column_width: 300
        cards:
          - type: vertical-stack
            cards:
              - type: custom:decluttering-card
                template: room_state_and_light_profile
                variables:
                  - room: kitchen

              - type: glance
                columns: 4
                show_state: false
                entities:
                  - entity: switch.kokken_tv_afbryder
                    name: TV
                    tap_action:
                      action: toggle
                  - entity: switch.elkedel
                    tap_action:
                      action: toggle

              - type: glance
                columns: 4
                show_state: false
                entities:
                  - entity: light.kokken_loftlys
                    name: Loftlampe
                    tap_action:
                      action: toggle
                  - entity: light.kitchen_sink
                    name: Vask
                    tap_action:
                      action: toggle
                  - entity: light.kitchen_stove
                    name: Ovn
                    tap_action:
                      action: toggle
                  - entity: light.kitchen_cabinets
                    name: Underskabe
                    tap_action:
                      action: toggle
                  - entity: light.kokken_spots
                    name: Spots
                    tap_action:
                      action: toggle

          - break

          - type: vertical-stack
            cards:
              - type: custom:decluttering-card
                template: room_climate
                variables:
                  - room: kitchen

              - type: entities
                title: Kitchen Sensors
                show_header_toggle: false
                entities:
                  - binary_sensor.kitchen_sensor

          - break

          - type: vertical-stack
            cards:
              - <<: *playlist-controls

              - type: custom:mini-media-player
                artwork: cover
                entity: media_player.kokken_mini

              - type: custom:mini-media-player
                artwork: cover
                entity: media_player.kokken_chromecast

              - type: custom:mini-media-player
                artwork: cover
                entity: media_player.kokken_hojttaler_cc
              
              - type: custom:mini-media-player
                artwork: cover
                entity: media_player.kokken_hojttaler


  # /Kitchen

  - title: Badeværelse
    path: bathroom
    icon: 'mdi:water-pump'
    panel: true
    cards:
      - type: custom:layout-card
        column_width: 300
        cards:
          - type: vertical-stack
            cards:
              - type: custom:decluttering-card
                template: room_state_and_light_profile
                variables:
                  - room: bathroom

              - type: glance
                title: ""
                columns: 4
                show_state: false
                entities:
                  - entity: light.bathroom_tablet
                    name: Tablet
                    tap_action:
                      action: toggle
                  - entity: light.badevaerelse
                    tap_action:
                      action: toggle

          - break

          - type: vertical-stack
            cards:
              - type: custom:decluttering-card
                template: room_climate
                variables:
                  - room: toilet

              - type: entities
                title: Bathroom Sensors
                show_header_toggle: false
                entities:
                  - binary_sensor.toilet_sensor
                  - binary_sensor.badevaerelse_vindue
                  - sensor.toilet_mold_indicator
                  - sensor.toilet_relative_humidity_change

          - break

          - type: vertical-stack
            cards:
              - <<: *playlist-controls

              - type: custom:mini-media-player
                artwork: cover
                entity: media_player.badevaerelse_mini

  # /Bathroom

  - title: Gang
    path: hallway
    icon: 'mdi:arrow-all'
    panel: true
    cards:
      - type: custom:layout-card
        column_width: 300
        cards:
          - type: vertical-stack
            cards:
              - type: custom:decluttering-card
                template: room_state_and_light_profile
                variables:
                  - room: hallway

              - type: glance
                title: ""
                columns: 4
                show_state: false
                entities:
                  - entity: light.hallway_tablet
                    tap_action:
                      action: toggle
                  - entity: light.gang_loftlys
                    tap_action:
                      action: toggle

          - break

          - type: vertical-stack
            cards:
              - type: custom:decluttering-card
                template: room_climate
                variables:
                  - room: hallway

              - type: entities
                title: Hallway Sensors
                show_header_toggle: false
                entities:
                  - binary_sensor.hallway_sensor
                  - binary_sensor.apartment_door
                  - binary_sensor.apartment_lock

          - break

  # /Hallway

  - title: Klædeskab
    path: storage-room
    icon: 'mdi:tshirt-crew'
    panel: true
    cards:
      - type: custom:layout-card
        column_width: 300
        cards:
          - type: vertical-stack
            cards:
              - type: custom:decluttering-card
                template: room_state_and_light_profile
                variables:
                  - room: storage_room

              - type: glance
                columns: 4
                show_state: false
                entities:
                  - entity: light.klaedeskab
                    tap_action:
                      action: toggle

          - break

          - type: vertical-stack
            cards:
              - type: entities
                title: Storage Room Sensors
                show_header_toggle: false
                entities:
                  - binary_sensor.skab_bevaegelse
                  - binary_sensor.storage_room_door

          - break
  # /Walk in closet

  - title: Maintenance
    path: maintenance
    icon: 'mdi:wrench'
    panel: true
    cards:
      - type: custom:layout-card
        column_width: 300
        cards:
          - type: vertical-stack
            cards:
              - type: history-graph
                title: Power Usage
                show_header_toggle: false
                entities:
                  - sensor.energy_meter_watt

              - type: entities
                title: Energy Meter
                show_header_toggle: false
                entities:
                  - sensor.energy_meter_kwh
                  - sensor.energy_meter_watt
                  - sensor.energy_meter_watt_mean
                  - sensor.energy_meter_watt_change

              - type: custom:auto-entities
                card:
                  type: entities
                  title: Batteries
                filter:
                  include:
                    - entity_id: "*_battery*"
                      options:
                        secondary_info: last-changed

          - break

          - type: vertical-stack
            cards:
              - type: glance
                entities:
                  - entity: switch.stovsuger_lader
                    tap_action:
                      action: toggle

              - type: entities
                title: System Monitor
                show_header_toggle: false
                entities:
                  - entity: sensor.processor_use
                  - entity: sensor.memory_free
                  - entity: sensor.swap_use
                  - entity: sensor.disk_free
                  - entity: sensor.load_1m
                  - entity: sensor.load_5m
                  - entity: sensor.load_15m
                  - entity: sensor.last_boot
                  - entity: sensor.ha_installed_version
                  - entity: sensor.ha_current_version
                  - entity: sensor.ha_last_restart

          - break

          - type: vertical-stack
            cards:
              - type: history-graph
                title: Internet Speed
                hours_to_show: 12
                entities:
                  - sensor.unifi_speedtest_upload
                  - sensor.unifi_speedtest_download

              - type: entities
                title: Internet Status
                show_header_toggle: false
                entities:
                  - sensor.unifi_gateway_alerts
                  - sensor.unifi_gateway_www
                  - sensor.unifi_wan_ip
                  - sensor.unifi_speedtest_ping
                  - sensor.unifi_speedtest_upload
                  - sensor.unifi_speedtest_download
  # /Tech room

  - title: Gang Tablet
    path: hallway-tablet
    icon: 'mdi:tablet-android'
    panel: true
    cards:
      - type: vertical-stack
        cards:
          - type: horizontal-stack
            cards:
              - type: custom:card-modder
                style:
                  padding: 0px
                card:
                  type: custom:bignumber-card
                  scale: 64px
                  entity: sensor.time

              - type: custom:card-modder
                style:
                  padding: 0px
                card:
                  type: custom:bignumber-card
                  scale: 64px
                  entity: sensor.date_text

          - type: horizontal-stack
            cards:
              - type: "custom:button-card"
                size: 50px
                name: Lyst
                color: rgb(255,152,0)
                entity: light.light_profile_bright
              - type: "custom:button-card"
                size: 50px
                name: Normal
                color: rgb(255,152,0)
                entity: light.light_profile_default
              - type: "custom:button-card"
                size: 50px
                name: Dæmpet
                color: rgb(255,152,0)
                entity: light.light_profile_dimmed
              - type: "custom:button-card"
                size: 50px
                name: Baggr.
                color: rgb(255,152,0)
                entity: light.light_profile_ambient
              - type: "custom:button-card"
                size: 50px
                name: Nat
                color: rgb(255,152,0)
                entity: light.light_profile_night
              - type: "custom:button-card"
                size: 50px
                name: Slukket
                color: rgb(255,152,0)
                entity: light.light_profile_off

          - type: horizontal-stack
            cards:
              - type: vertical-stack
                cards:
                  - type: custom:simple-weather-card
                    entity: weather.dark_sky
                    name: " "

                  - <<: *dmi-weather

                  - <<: *air-states

                  # - type: custom:bignumber-card
                  #   title: Strømforbrug
                  #   entity: sensor.energy_meter_watt
                  #   max: 3000
                  #   min: 0
                  #   scale: 30px
                  #   severity:
                  #     - value: 300
                  #       style: 'green'
                  #     - value: 500
                  #       style: 'yellow'
                  #     - value: 1000
                  #       style: 'red'

                  - type: horizontal-stack
                    cards:
                      - type: glance
                        entities:
                          - entity: binary_sensor.apartment_lock
                            name: Hoveddør

                      - <<: *s_train_status

                  - type: conditional
                    conditions:
                      - entity: binary_sensor.s_train_message_present
                        state: 'on'
                    card:
                      type: custom:card-modder
                      style:
                        padding: 0px
                      card:
                        type: 'markdown'
                        content: >-
                          <font size=4>
                            [[ sensor.s_train_message.state ]]
                          </font>

              - type: vertical-stack
                cards:
                  - type: conditional
                    conditions:
                      - entity: input_boolean.guests
                        state: 'off'
                    card:
                      <<: *calendar

                  - <<: *playlist-controls

                  - type: conditional
                    card:
                      type: custom:mini-media-player
                      artwork: cover
                      entity: media_player.alle_hojttalere
                    conditions:
                      - entity: media_player.alle_hojttalere
                        state_not: 'off'

                  - type: conditional
                    card:
                      type: custom:mini-media-player
                      artwork: cover
                      entity: media_player.ost_hojttalere
                    conditions:
                      - entity: media_player.ost_hojttalere
                        state_not: 'off'

                  - type: conditional
                    card:
                      type: custom:mini-media-player
                      artwork: cover
                      entity: media_player.vest_hojttalere
                    conditions:
                      - entity: media_player.vest_hojttalere
                        state_not: 'off'

                  - type: conditional
                    conditions:
                      - entity: input_boolean.guests
                        state: 'off'
                    card:
                      type: glance
                      entities:
                        - entity: input_boolean.vacation_mode
                        - entity: input_boolean.guests
                          name: Gæster
                          tap_action:
                            action: toggle

                  - type: conditional
                    conditions:
                      - entity: input_boolean.guests
                        state: 'on'
                    card:
                      type: markdown
                      content: !secret ui_wifi_content

  # /Hallway Tablet

  - title: Badeværelse Tablet
    path: bathroom-tablet
    icon: 'mdi:tablet'
    panel: true
    cards:
      - type: vertical-stack
        cards:
          - type: horizontal-stack
            cards:
              - type: vertical-stack
                cards:
                  - type: custom:card-modder
                    style:
                      padding: 0px
                    card:
                      type: custom:bignumber-card
                      scale: 80px
                      entity: sensor.time

                  - type: horizontal-stack
                    cards:
                      - <<: *s_train_status
                      - type: glance
                        entities:
                          - entity: binary_sensor.apartment_lock
                            name: Hoveddør

                  - type: conditional
                    conditions:
                      - entity: binary_sensor.s_train_message_present
                        state: 'on'
                    card:
                      type: custom:card-modder
                      style:
                        padding: 0px
                      card:
                        type: 'markdown'
                        content: >-
                          <font size=4>
                            [[ sensor.s_train_message.state ]]
                          </font>

                  - type: conditional
                    conditions:
                      - entity: input_boolean.guests
                        state: 'off'
                    card:
                      <<: *calendar

              - type: vertical-stack
                cards:                  
                  - type: custom:simple-weather-card
                    entity: weather.dark_sky
                    name: " "

                  - <<: *dmi-weather

                  - <<: *air-states

              - type: vertical-stack
                cards:
                  - type: custom:decluttering-card
                    template: room_light_profile
                    variables:
                      - room: bathroom

                  - <<: *playlist-controls

                  - type: conditional
                    card:
                      type: custom:mini-media-player
                      artwork: cover
                      entity: media_player.badevaerelse_mini
                    conditions:
                      - entity: media_player.badevaerelse_mini
                        state_not: 'off'

                  - type: horizontal-stack
                    cards:
                      - type: "custom:button-card"
                        size: 50px
                        name: Aktivitet
                        entity: binary_sensor.bathroom_activity
                        icon: mdi:circle
                        color: rgb(255,152,0)
                        tap_action:
                          action: more-info
                          entity: group.bathroom_activity_entities
                        state:
                          - value: 'off'
                            icon: mdi:circle-outline
                      - type: "custom:button-card"
                        size: 50px
                        name: Overstyr
                        entity: light.bathroom_activity_override
                        color: rgb(255,152,0)
                      - type: "custom:button-card"
                        size: 50px
                        name: Separat
                        entity: light.bathroom_separate_light_profile
                        color: rgb(255,152,0)
                  - type: conditional
                    conditions:
                      - entity: input_boolean.bathroom_activity_override
                        state: 'on'
                    card:
                      type: entities
                      show_title: false
                      show_header_toggle: false
                      entities:
                        - entity: input_select.bathroom_room_state

  # /Bathroom Tablet

  - path: phone
    title: phone
    icon: 'mdi:cellphone'
    panel: true
    cards:
      - type: vertical-stack
        cards:
          - type: horizontal-stack
            cards:
              - type: "custom:button-card"
                size: 50px
                name: Lyst
                color: rgb(255,152,0)
                entity: light.bathroom_light_profile_bright
              - type: "custom:button-card"
                size: 50px
                name: Normal
                color: rgb(255,152,0)
                entity: light.bathroom_light_profile_default
              - type: "custom:button-card"
                size: 50px
                name: Dæmpet
                color: rgb(255,152,0)
                entity: light.bathroom_light_profile_dimmed
          - type: horizontal-stack
            cards:
              - type: "custom:button-card"
                size: 50px
                name: Baggrund
                color: rgb(255,152,0)
                entity: light.bathroom_light_profile_ambient
              - type: "custom:button-card"
                size: 50px
                name: Nat
                color: rgb(255,152,0)
                entity: light.bathroom_light_profile_night
              - type: "custom:button-card"
                size: 50px
                name: Slukket
                color: rgb(255,152,0)
                entity: light.bathroom_light_profile_off

          - type: entities
            entities:
              - entity: input_select.theme
            show_header_toggle: false
            title: ''

          - type: entities
            title: Sleep as Android
            show_header_toggle: false
            entities:
              - sensor.sleep_tracker
              - sensor.phone_alarm
              - counter.snooze_counter
              - input_select.sleep_state

          - type: glance
            columns: 3
            show_name: false
            show_state: false
            title: Playlist
            entities:
              - entity: script.playlist_previous
                icon: mdi:skip-previous-circle
                tap_action:
                  action: toggle
              - entity: script.playlist_end
                icon: mdi:stop-circle
                tap_action:
                  action: toggle
              - entity: script.playlist_next
                icon: mdi:skip-next-circle
                tap_action:
                  action: toggle
  # /Phone

  - title: Kontor Tablet
    path: office-tablet
    icon: 'mdi:tablet'
    panel: true
    cards:
      - type: vertical-stack
        cards:
          - type: horizontal-stack
            cards:
              - type: vertical-stack
                cards:
                  - type: custom:card-modder
                    style:
                      padding: 0px
                    card:
                      type: custom:bignumber-card
                      scale: 100px
                      entity: sensor.time

                  - <<: *calendar

              - type: vertical-stack
                cards:
                  - <<: *animated-weather
                  - <<: *dmi-weather

                  - <<: *playlist-controls

                  - type: conditional
                    card:
                      type: custom:mini-media-player
                      artwork: cover
                      entity: media_player.alle_hojttalere
                    conditions:
                      - entity: media_player.alle_hojttalere
                        state_not: 'off'

                  - type: conditional
                    card:
                      type: custom:mini-media-player
                      artwork: cover
                      entity: media_player.ost_hojttalere
                    conditions:
                      - entity: media_player.ost_hojttalere
                        state_not: 'off'

                  - type: conditional
                    card:
                      type: custom:mini-media-player
                      artwork: cover
                      entity: media_player.vest_hojttalere
                    conditions:
                      - entity: media_player.vest_hojttalere
                        state_not: 'off'

                  - type: glance
                    columns: 3
                    show_state: false
                    show_title: false
                    entities:
                      - entity: light.office_desk_spots
                        name: Desk Spots
                        tap_action:
                          action: toggle
                      - entity: light.office_shelf
                        name: Desk Shelf
                        tap_action:
                          action: toggle
                      - entity: light.kontor_loftlys
                        tap_action:
                          action: toggle
                      - entity: light.office_shelf_bar
                        name: Desk Bar
                        tap_action:
                          action: toggle
                      - entity: light.hobbybord_lampe
                        tap_action:
                          action: toggle
                      - entity: light.hobbybord
                        name: Hobbybord
                        tap_action:
                          action: toggle
                      - entity: light.hobbybord_hylder
                        tap_action:
                          action: toggle
                      - entity: light.kontor_spots
                        name: Spots
                        tap_action:
                          action: toggle

              - type: vertical-stack
                cards:
                  - type: glance
                    columns: 4
                    show_state: false
                    entities:
                      - entity: light.office_light_profile_bright
                        tap_action:
                          action: toggle
                      - entity: light.office_light_profile_default
                        tap_action:
                          action: toggle
                      - entity: light.office_light_profile_dimmed
                        tap_action:
                          action: toggle
                      - entity: light.office_activity_override
                        name: Overstyring
                        tap_action:
                          action: toggle
                      - entity: light.office_light_profile_ambient
                        tap_action:
                          action: toggle
                      - entity: light.office_light_profile_night
                        tap_action:
                          action: toggle
                      - entity: light.office_light_profile_off
                        tap_action:
                          action: toggle
                      - entity: light.office_separate_light_profile
                        name: Separat
                        tap_action:
                          action: toggle

                  - type: conditional
                    conditions:
                      - entity: input_boolean.office_activity_override
                        state: 'on'
                    card:
                      type: entities
                      show_title: false
                      show_header_toggle: false
                      entities:
                        - entity: input_select.office_room_state

                  - <<: *air-states

                  # - type: custom:bignumber-card
                  #   title: Strømforbrug
                  #   entity: sensor.energy_meter_watt
                  #   max: 3000
                  #   min: 0
                  #   scale: 30px
                  #   severity:
                  #     - value: 300
                  #       style: 'green'
                  #     - value: 500
                  #       style: 'yellow'
                  #     - value: 1000
                  #       style: 'red'

  # /Office Tablet

  - title: Transport
    path: transport
    icon: mdi:train-car
    panel: true
    cards:
      - type: custom:layout-card
        column_width: 300
        cards:
          - type: vertical-stack
            cards:
              - type: entities
                title: ''
                show_header_toggle: false
                entities:
                  - proximity.home
                  - sensor.home_dir_of_travel

          - break

          - type: vertical-stack
            cards:
              - type: custom:card-modder
                style:
                  # --paper-card-background-color: '#7DB362'
                  # --primary-text-color: white
                card:
                  type: 'markdown'
                  content: |
                    <font size=4>B: [[ sensor.s_train_b_status ]]</font>
                    [[ sensor.s_train_message ]]
              
              - type: custom:rejseplanen-card
                entity: sensor.s_tog_brondbyoster_til_kbh
                
              - type: custom:rejseplanen-card
                entity: sensor.s_tog_norreport_til_brondbyoster


  - title: Badeværelse Spejl
    path: bathroom-mirror
    icon: 'mdi:cellphone-screenshot'
    panel: true
    cards:
      - type: vertical-stack
        cards:
          - type: picture-elements
            image: /local/blank1680x1050.png?v=1
            elements:
              ############
              # TOP LEFT #
              ############
              - type: custom:card-modder
                style:
                  transform: none
                  top: 0px
                  left: 0px
                  padding: 0
                  width: 360px
                card:
                  type: custom:bignumber-card
                  scale: 100px
                  entity: sensor.time

              - type: custom:hui-vertical-stack-card
                style:
                  transform: none
                  top: 120px
                  left: 0px
                  padding: 0
                  width: 360px
                cards:
                  - type: custom:card-modder
                    style:
                      padding: 0px
                    card:
                      type: custom:bignumber-card
                      scale: 32px
                      entity: sensor.date_text

                  - type: conditional
                    conditions:
                      - entity: input_boolean.guests
                        state: 'off'
                    card:
                      <<: *calendar

              ################
              # BOTTOM LEFT #
              ################
              - type: custom:hui-vertical-stack-card
                style:
                  transform: none
                  bottom: -12px
                  left: 56px
                  width: 304px
                  padding: 0
                cards:
                  - type: custom:config-template-card
                    entities:
                      - sensor.s_train_b_next_fmt
                      - sensor.s_train_b_status
                    card:
                      type: custom:hui-markdown-card
                      content: "${ '<font size=6>' + states['sensor.s_train_b_next_fmt'].state + ' min</font><br>' + states['sensor.s_train_b_status'].state}"

              - type: image
                style:
                  transform: none
                  bottom: 0px
                  left: 8px
                  width: 64px
                  padding: 0
                image: /local/b.png

              - type: custom:hui-vertical-stack-card
                style:
                  transform: none
                  bottom: 68px
                  left: -8px
                  width: 360px
                  padding: 0
                cards:
                  - type: conditional
                    conditions:
                      - entity: binary_sensor.s_train_message_present
                        state: 'on'
                    card:
                      type: custom:card-modder
                      style:
                        padding: 0
                      card:
                        type: 'markdown'
                        content: >-
                          <font size=5>
                            Driftsbesked:
                          </font>
                          <br>
                          <font size=4>
                            [[ sensor.s_train_message.state ]]
                          </font>


              #############
              # TOP RIGHT #
              #############
              - type: custom:weather-card
                style:
                  transform: none
                  top: 0px
                  right: 0px
                  width: 360px
                  padding: 0
                entity: weather.dark_sky
                icons: "/local/custom-lovelace/bramkragten/weather-card/icons/animated/"


              ###############
              # BOTTOM RIGHT #
              ###############

              - type: custom:hui-vertical-stack-card
                style:
                  transform: none
                  bottom: 0px
                  right: 0px
                  width: 360px
                  padding: 0
                cards:
                  - type: conditional
                    card:
                      type: custom:mini-media-player
                      info: scroll
                      artwork: full-cover
                      hide:
                        mute: true
                        icon: true
                        icon_state: false
                        power: true
                        source: true
                        controls: true
                        volume: true
                        power_state: false
                      entity: media_player.badevaerelse_mini
                    conditions:
                      - entity: media_player.badevaerelse_mini
                        state_not: 'off'

                  - type: conditional
                    card:
                      type: custom:mini-media-player
                      info: scroll
                      artwork: full-cover
                      hide:
                        mute: true
                        icon: true
                        icon_state: false
                        power: true
                        source: true
                        controls: true
                        volume: true
                        power_state: false
                      entity: media_player.alle_hojttalere
                    conditions:
                      - entity: media_player.alle_hojttalere
                        state_not: 'off'

                  - type: conditional
                    card:
                      type: custom:mini-media-player
                      info: scroll
                      artwork: full-cover
                      hide:
                        mute: true
                        icon: true
                        icon_state: false
                        power: true
                        source: true
                        controls: true
                        volume: true
                        power_state: false
                      entity: media_player.ost_hojttalere
                    conditions:
                      - entity: media_player.ost_hojttalere
                        state_not: 'off'

                  - type: conditional
                    card:
                      type: custom:mini-media-player
                      info: scroll
                      artwork: full-cover
                      hide:
                        mute: true
                        icon: true
                        icon_state: false
                        power: true
                        source: true
                        controls: true
                        volume: true
                        power_state: false
                      entity: media_player.vest_hojttalere
                    conditions:
                      - entity: media_player.vest_hojttalere
                        state_not: 'off'

                  - type: custom:vertical-stack-in-card
                    cards:
                      - type: horizontal-stack
                        cards:
                          - type: vertical-stack
                            cards:
                              - type: custom:card-modder
                                style:
                                  padding: 0px 0px 0px 0px
                                card:
                                  type: sensor
                                  name: " "
                                  icon: mdi:toilet
                                  entity: sensor.toilet_temperature

                              - type: custom:card-modder
                                style:
                                  padding: 0px 0px 0px 0px
                                card:
                                  type: sensor
                                  name: " "
                                  entity: sensor.toilet_relative_humidity

                          - type: vertical-stack
                            cards:
                              - type: custom:card-modder
                                style:
                                  padding: 0px 0px 0px 0px
                                card:
                                  type: sensor
                                  name: " "
                                  icon: mdi:hotel
                                  entity: sensor.bedroom_temperature

                              - type: custom:card-modder
                                style:
                                  padding: 0px 0px 0px 0px
                                card:
                                  type: sensor
                                  name: " "
                                  entity: sensor.bedroom_relative_humidity

                          - type: vertical-stack
                            cards:
                              - type: custom:card-modder
                                style:
                                  padding: 0px 0px 0px 0px
                                card:
                                  type: sensor
                                  name: " "
                                  icon: mdi:sofa
                                  entity: sensor.livingroom_temperature

                              - type: custom:card-modder
                                style:
                                  padding: 0px 0px 0px 0px
                                card:
                                  type: sensor
                                  name: " "
                                  entity: sensor.livingroom_relative_humidity

                          - type: vertical-stack
                            cards:
                              - type: custom:card-modder
                                style:
                                  padding: 0px 0px 0px 0px
                                card:
                                  type: sensor
                                  name: " "
                                  icon: mdi:desktop-tower-monitor
                                  entity: sensor.office_temperature

                              - type: custom:card-modder
                                style:
                                  padding: 0px 0px 0px 0px
                                card:
                                  type: sensor
                                  name: " "
                                  entity: sensor.office_relative_humidity
