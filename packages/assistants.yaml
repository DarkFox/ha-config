# Enables Home Assistant Cloud
cloud:
  google_actions:
    filter:
      include_entities:
        - switch.airconditoner
        - switch.livingroom_fan
        - switch.pc
        - switch.space_heater
        - switch.tv
        - switch.vacuum_charger
        - switch.bedroom_fan
        - switch.office_fan
      include_domains:
        - light
        - scene
        - media_player
    entity_config:
      scene.ambient:
        name: Ambient Scene
      scene.bright:
        name: Bright Scene
      scene.default:
        name: Default Scene
      scene.dimmed:
        name: Dimmed Scene
      scene.night:
        name: Night Scene

      light.apartment_light_level:
        aliases:
          - light profile
          - profile
          - apartment
          - apartment light
          - apartment lights

intent_script:
  DimLightsIntent:
    action:
      service: input_select.select_next
      entity_id: input_select.light_profile
    speech:
      text: >
        Dimming the lights.

  BrightenLightsIntent:
    action:
      service: input_select.select_previous
      entity_id: input_select.light_profile
    speech:
      text: >
        Brightening the lights.

  WorkTravelTime:
    speech:
      text: >
        Current travel time to work is {{ states("sensor.travel_time_to_work") }} minutes.

  PlayLastTwitchStreamIntent:
    action:
      service: media_extractor.play_media
      data_template:
        entity_id: "media_player.{{ Device | lower | replace(' ', '_') }}"
        media_content_id: "{{ states('sensor.twitch_stream') }}"
        media_content_type: TVSHOW
    speech:
      type: plaintext
      text: >
        Sending {{ states.sensor.twitch_stream.attributes.stream_name }} to {{ Device }}
