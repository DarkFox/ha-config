script:
  tts_speak:
    alias: "Wrapper for TTS service"
    sequence:
      - service: tts.speak
        data:
          cache: "{{ cache or 'false' }}"
          media_player_entity_id: "{{ media_player_entity_id }}"
          message: "{{ message | replace('\n', ' ') }}"
        target:
          entity_id: tts.piper
      # - service: tts.cloud_say
      #   data:
      #     cache: "{{ cache }}"
      #     entity_id: "{{ media_player_entity_id }}"
      #     message: "{{ message | replace('\n', ' ') }}"
      #     language: da-DK
      #     options:
      #       gender: male

sensor:
  - platform: template
    sensors:
      tts_greeting:
        value_template: >-
          {%- if now().hour < 4 -%}
            Godnat
          {%- elif now().hour < 10 -%}
            Godmorgen
          {%- elif now().hour < 14 -%}
            Goddag
          {%- elif now().hour < 17 -%}
            God eftermiddag
          {%- elif now().hour < 24 -%}
            Godaften
          {%- endif -%}
