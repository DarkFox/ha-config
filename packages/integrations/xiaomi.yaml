camera:
  - platform: xiaomi_cloud_map_extractor
    host: 192.168.42.180
    token: !secret xiaomi_token
    username: !secret xiaomi_cloud_username
    password: !secret xiaomi_cloud_password
    country: "de"
    colors:
      # color_map_outside: [64, 64, 64]
      color_path: [64, 128, 255]
      color_goto_path: [255, 0, 0]
      color_predicted_path: [0, 172, 0]
    room_colors:
      "1": [245, 217, 91] # Køkken
      "2": [184, 133, 204] # Soveværelse
      "3": [255, 176, 235] # Gang
      "4": [250, 126, 112] # Stue
      "5": [255, 180, 117] # Kontor
    map_transformation:
      scale: 2
      trim:
        left: 22
        right: 26
        top: 25
        bottom: 23
    draw:
      - charger
      - path
      - goto_path
      - predicted_path
      - no_go_zones
      - no_mopping_zones
      - vacuum_position
      - virtual_walls
      - zones
    attributes:
      - calibration_points
      - charger
      - goto
      - goto_path
      - goto_predicted_path
      - image
      - map_name
      - no_go_areas
      - no_mopping_areas
      - obstacles
      - path
      - room_numbers
      - rooms
      - vacuum_position
      - vacuum_room
      - walls
      - zones
    scan_interval:
      seconds: 10
    auto_update: true

script:
  send_vacuum_to_emptying_position:
    alias: "Send støvsuger til tømmeposition"
    sequence:
      - service: xiaomi_miio.vacuum_goto
        data:
          entity_id: vacuum.xiaomi_vacuum_cleaner
          x_coord: 27500
          y_coord: 19500
