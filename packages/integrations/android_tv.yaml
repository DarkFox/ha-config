media_player:
  - platform: androidtv
    name: Nvidia Shield ADB
    host: 192.168.42.85
    exclude_unnamed_apps: true

script:
  shield_tv_play:
    alias: "Play URL on Shield TV"
    sequence:
      - choose:
          - conditions:
              - condition: state
                entity_id: media_player.nvidia_shield_adb
                state: "off"
            sequence:
              - service: media_player.turn_on
                data:
                  entity_id: media_player.nvidia_shield_adb
              - delay:
                  seconds: 5
      - service: androidtv.adb_command
        data:
          entity_id: media_player.nvidia_shield_adb
          command: "am start -a android.intent.action.VIEW {{ url }}"
