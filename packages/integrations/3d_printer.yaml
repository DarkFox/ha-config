binary_sensor:
  - platform: template
    sensors:
      3d_printer_running:
        value_template: "{{ states('sensor.3d_printer_afbryder_forbrug')|float > 0.01 }}"

sensor:
  - platform: template
    sensors:
      3d_printer_finish_time:
        icon_template: mdi:clock-outline
        friendly_name: 3D Printer Finish Time
        value_template: >-
          {{
            (as_timestamp(now())+(states('sensor.octoprint_print_time_left')|int))
            | timestamp_custom('%Y-%m-%d %H:%M')
            | replace((as_timestamp(now())
            | timestamp_custom('%Y-%m-%d ')), '')
          }}
