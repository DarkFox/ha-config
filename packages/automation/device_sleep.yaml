automation:
  # Bathroom #
  - alias: Bathroom Speaker trigger
    trigger:
      platform: state
      entity_id: input_select.room_state_bathroom
      to: 'active'
    action:
      service: media_player.volume_mute
      data:
        entity_id: media_player.bathroom_speaker
        is_volume_muted: false

  - alias: Bathroom Speaker inactive trigger
    trigger:
      platform: state
      entity_id: input_select.room_state_bathroom
      to: 'off'
    action:
      service: media_player.volume_mute
      data_template:
        entity_id: media_player.bathroom_speaker
        is_volume_muted: true

  # Bedroom #
  - alias: Bedroom Speaker trigger
    trigger:
      platform: state
      entity_id: input_select.room_state_bedroom
      to: 'active'
    action:
      service: switch.turn_on
      data:
        entity_id: switch.bedroom_speaker_switch

  - alias: Bedroom Speaker inactive trigger
    trigger:
      platform: state
      entity_id: input_select.room_state_bedroom
      to: 'off'
    action:
      service: switch.turn_off
      data_template:
        entity_id: switch.bedroom_speaker_switch

  # Kitchen #
  - alias: Kitchen Speaker trigger
    trigger:
      platform: state
      entity_id: input_select.room_state_kitchen
      to: 'active'
    action:
      service: switch.turn_on
      data_template:
        entity_id: switch.kitchen_speaker_switch

  - alias: Kitchen Speaker inactive trigger
    trigger:
      platform: state
      entity_id: input_select.room_state_kitchen
      to: 'off'
    action:
      service: switch.turn_off
      data_template:
        entity_id: switch.kitchen_speaker_switch

  # Office #
  - alias: Office Speaker trigger
    trigger:
      platform: state
      entity_id: input_select.room_state_office
      to: 'active'
    action:
      service: switch.turn_on
      data_template:
        entity_id: switch.office_desk_speaker_switch

  - alias: Office Speaker inactive trigger
    trigger:
      platform: state
      entity_id: input_select.room_state_office
      to: 'off'
    action:
      service: switch.turn_off
      data_template:
        entity_id: switch.office_desk_speaker_switch

  - alias: Projector Soundbar inactive trigger
    trigger:
      platform: state
      entity_id: input_select.room_state_office
      to: 'off'
    action:
      service: switch.turn_off
      data_template:
        entity_id: switch.projector_soundbar_power

  # Livingroom #
  - alias: Livingroom Speaker trigger
    trigger:
      platform: state
      entity_id: input_select.room_state_livingroom
      to: 'active'
    action:
      service: media_player.volume_mute
      data:
        entity_id: media_player.tv_soundbar
        is_volume_muted: false

  - alias: Livingroom inactive trigger
    trigger:
      platform: state
      entity_id: input_select.room_state_livingroom
      to: 'off'
    action:
      - service: switch.turn_off
        data:
          entity_id: switch.tv
      - service: media_player.volume_mute
        data:
          entity_id: media_player.tv_soundbar
          is_volume_muted: true

  # Home #
  - alias: Home inactive trigger
    trigger:
      platform: state
      entity_id: binary_sensor.martin_presence
      to: 'off'
    action:
      service: switch.turn_off
      data:
        entity_id:
          - switch.tv
          - switch.tv_soundbar
