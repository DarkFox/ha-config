homeassistant:
  name: Home
  latitude: !secret home_latitude
  longitude: !secret home_longitude
  elevation: 48
  unit_system: metric
  time_zone: Europe/Copenhagen
  packages: !include_dir_named packages

  auth_providers:
    - type: homeassistant

  customize: !include customize.yaml

sensor:
  - platform: authenticated

config:

lovelace:
  mode: yaml

simpleicons:

http:
  base_url: !secret base_url
  ip_ban_enabled: false
  # cors_allowed_origins:
  #   - !secret base_url
  #   - !secret local_url
  #   - https://cast.home-assistant.io
  login_attempts_threshold: 10
  use_x_forwarded_for: true
  trusted_proxies:
    - 127.0.0.1
    - ::1
    - 172.30.33.3
    - 172.30.33.2
    - 172.16.0.0/12

mobile_app:

map:
updater:
discovery:
zeroconf:
conversation:

recorder:
  db_url: !secret db_url
  purge_keep_days: 31
  exclude:
    event_types:
      - call_service
    domains: &recorder_domain_excludes
      - automation
      - script
      - weblink
      - updater
      - scene
      - zwave
    entities: &recorder_entity_excludes
      - sensor.last_successful_authentication

      - binary_sensor.workday_sensor
      - sensor.time
      - sensor.time_utc
      - sensor.internet_time
      - sensor.date
      - sensor.date_text
      - sensor.date_time
      - sun.sun

      - sensor.s_train_b_next
      - sensor.s_train_b_next_fmt
      - sensor.s_train_b_later_fmt
      - sensor.s_train_message
      - sensor.s_tog_brondbyoster_til_kbh
      - sensor.s_tog_norreport_til_brondbyoster
      - sensor.dsb_trafikinfo

      - sensor.podcast_bbc_minute
      - sensor.podcast_daily_tech_news_show
      - sensor.podcast_radioavisen

      - binary_sensor.vacation_mode_random_boolean
      - sensor.vacation_mode_random_minutes

      - sensor.dmi_vejr
      - sensor.dmi_warnings_raw
      - sensor.dmi_warnings_specific_raw
      - sensor.dmi_weather_raw
      - sensor.wind_text
      - sensor.wind_speed_name
      - sensor.wind_bearing_name_initials
      - sensor.wind_bearing_name

      - sensor.valetudo_map

      - binary_sensor.grocy_expired_products
      - binary_sensor.grocy_expiring_products
      - binary_sensor.grocy_missing_products
      - sensor.grocy_shopping_list
      - sensor.grocy_stock

      - input_number.handwash_timer

      - media_player.mpd
      - sensor.icecast_stream_test
      - sensor.musicure_tracks
      - sensor.youtube_watch_later

      - sensor.ledfx_presets_config
      - sensor.ledfx_presets

#_tank_capacity

history:
  exclude: 
    domains:
      *recorder_domain_excludes
    entities:
      *recorder_entity_excludes


binary_sensor:
  - platform: workday
    country: DK
  - platform: workday
    name: Workday Tomorrow
    country: DK
    days_offset: 1
  # Consider template sensor to merge workday sensors and vacation calendar.

media_extractor:
wake_on_lan:

tts:
  - platform: google_translate
    service_name: google_say
    language: 'da'
  - platform: amazon_polly
    aws_access_key_id: !secret aws_client
    aws_secret_access_key: !secret aws_secret
    region_name: eu-central-1
    voice: Naja

downloader:
  download_dir: www/downloads

group: !include groups.yaml
script: !include scripts.yaml

frontend:
  themes: !include_dir_merge_named themes
